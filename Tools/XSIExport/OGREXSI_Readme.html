<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
  <title>OGRE XSI Exporter Readme</title>
  <meta http-equiv="Content-Type"
 content="text/html; charset=iso-8859-1">
  <style type="text/css"> .MainHeader { font-weight: bold; color: #FFFF33; background-color: #006600; font-size: 10pt}
	body { font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 10pt; color: #CCFFCC; background-color: #003300}
	.BorderHeader { background-color: #999900; font-size: 8pt; font-weight: bold; color: #333300; text-align: center}
	.MainContent { font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 10pt; color: #CCFFCC }
	.BorderContent { font-size: 8pt; color: #66CC33; border-color: black #666600 #666600; padding-top: 2px; padding-right: 2px; padding-bottom: 10px; padding-left: 2px; margin-bottom: 2px; border-style: solid; border-top-width: 0px; border-right-width: 1px; border-bottom-width: 1px; border-left-width: 1px}
	a:link { color: #FFFF00; text-decoration: underline}
	a:hover { color: #FFFFFF; text-decoration: underline}
	a:visited { color: #FFCC66; text-decoration: underline}
	li { color: #66CC33; list-style-type: circle; position: relative; left: -15px; clip: rect( )}
	.NewsDate { color: #CCFFCC; font-weight: bold}
	td { font-size: 10pt}
	th { font-size: 10pt}
	.Annotation { font-size: 10px}
	H1 { text-align: center; }
	A.qindex {}
	A.qindexRef {}
	A.el { text-decoration: none; font-weight: bold }
	A.elRef { font-weight: bold }
	A.code { text-decoration: none; font-weight: normal; color: #4444ee }
	A.codeRef { font-weight: normal; color: #4444ee }
	DL.el { margin-left: -1cm }
	DIV.fragment { width: 100%; border: none; background-color: #003300 }
	DIV.ah { background-color: black; margin-bottom: 3; margin-top: 3 }
	TD.md { background-color: #006600 }
	DIV.groupHeader { margin-left: 16; margin-top: 12; margin-bottom: 6; font-weight: bold }
	DIV.groupText { margin-left: 16; font-style: italic; font-size: smaller }
	FONT.keyword { color: #008000 }
	FONT.keywordtype { color: #999920 }
	FONT.keywordflow { color: #e0FF00 }
	FONT.comment { color: #009900 }
	FONT.preprocessor { color: #809020 }
	FONT.stringliteral { color: #002080 }
	FONT.charliteral { color: #008080 }
	H3 { FONT-FAMILY: trebuchet ms,helvetica,arial }
	.ex { FONT-SIZE: 8pt; FONT-FAMILY: tahoma }
	CODE.keywordtype { COLOR: #00ccff }
	CODE.keyword { FONT-WEIGHT: bold; COLOR: #00ccff }
	CODE.fn { COLOR: white; FONT-WEIGHT: bold; }
	CODE.var { COLOR: #dcdcdc; }
	CODE.macro { COLOR: #809020; FONT-WEIGHT: bold; }
	CODE.comm { COLOR: lime }
	CODE.num { COLOR: purple }
	CODE.str { COLOR: #ffcc33; font-style: italic }
	.SectionHeader { font-size: 14px; color: #FFFFCC; font-weight: bold}
	.header { font-size: 16px; font-weight: bold; color: #FFFFCC}
	</style>
</head>
<body>
<p class="header" align="center">OGRE (Object-Oriented Graphics
Rendering Engine)</p>
<p class="header" align="center">XSI Exporter README file</p>
<p class="header" align="center"><a href="http://www.ogre3d.org">http://www.ogre3d.org</a></p>
<p class="MainHeader" align="left"><a name="top"></a>Summary</p>
<p>OGRE (Object-Oriented Graphics Rendering Engine) is a
scene-oriented, flexible 3D engine written in C++ designed to make it
easier and more intuitive for developers to produce games and demos
utilising 3D hardware. The class library abstracts all the details of
using the underlying system libraries like Direct3D and OpenGL and
provides an interface based on world objects and other intuitive
classes. </p>
<p>This distribution contains the files required to export OGRE
.mesh, .skeleton and .material files from <a
 href="http://www.softimage.com">SoftImage|XSI 4.2</a>. <br>
</p>
<p><span style="font-weight: bold;">IMPORTANT</span>: This exporter
only works with a <span style="font-weight: bold;">full version</span>
of XSI (Foundation or better). It will not work with the trial version.<br>
</p>
<a href="#install">How To Install</a><br>
<a href="#features">Features</a><br>
<a href="#using">How To Use</a><br>
<a href="#tips">Tips</a><br>
<a href="#changelog">Change Log</a><br>
<p><br>
</p>
<p class="MainHeader" align="left"><a name="install"></a>How to Install</p>
<p>If you are using the installer, you don't need to do anything except
to run it and point it at your XSI folder. If you're installing from
source, you need to do the following:<br>
</p>
<ul>
  <li>copy devil.dll, ilu.dll, ilut.dll and zlib1.dll into
$(XSI_ROOT)\Application\bin, or make sure they are somewhere on your
path</li>
  <li>copy OgreMain.dll (and OgreMain_d.dll if you wish to use the
debug version anytime) into $(XSI_ROOT)\Application\bin</li>
  <li>copy OgreXSIExporter.dll into $(XSI_ROOT)\Application\plugins</li>
</ul>
<a href="#top">Back To Top</a><br>
<p class="MainHeader" align="left"><a name="features"></a>Features</p>
<p>The following features are supported:<br>
</p>
<ol>
  <li>Exporting selected PolygonMesh objects direct to the OGRE binary
.mesh format</li>
  <li>Exports vertex position, normals, multiple UV sets and vertex
colours<br>
  </li>
  <li>Polygon clusters used to change materials in a single PolygonMesh
are exported as separate SubMeshes</li>
  <li>By default, separate PolygonMesh objects which use the same
material are merged for efficiency</li>
  <li>Mesh vertices are index-organised for efficiency</li>
  <li>Exporting of up to 4 weighted bone assignments per vertex <br>
  </li>
  <li>Generation of edge lists, tangent vectors, and LOD levels during
export (optional)<br>
  </li>
  <li>Exporting of deformers (bone chains, nulls used as deformers)
direct to binary .skeleton format<br>
  </li>
  <li>Exporting of one or more ActionSources directly as animations ,
or sampled (IK conversion)<br>
  </li>
  <li>Exporting of RealTime shaders on materials (OpenGL and DirectX)</li>
</ol>
<a href="OGREXSI_Readme.html#top">Back To Top</a>
<p class="MainHeader" align="left"><a name="using"></a>How To Use<br>
</p>
It's a simple case of selecting the objects you wish to export, and
clicking File &gt; Export &gt; OGRE Mesh / Skeleton... to bring up the
OGRE export dialog.<br>
<img alt="page1" src="OGRE_XSI_page1.gif"
 style="width: 464px; height: 477px;"><br>
<br>
The first page of the exporter is concerned with the basic mesh export
settings. <br>
<span style="font-weight: bold;"><br>
<span style="color: rgb(255, 255, 0);">Object(s) to export:</span> </span>This
is pre-populated with your current selection<br>
<span style="font-weight: bold;"><span style="color: rgb(255, 255, 0);">Mesh:</span>
</span>This is the .mesh file to export - you must complete this. Once
you have selected a file, by default the other file-related fields in
the exporter will be completed for you based on the same filename
pattern.<br>
<span style="font-weight: bold;"><span style="color: rgb(255, 255, 0);">Merge
objects with the same material?:</span> </span>If this is checked, all
polygon mesh objects with the same material will be merged into one for
efficiency. Most of the time you want this; but if you want more
control over the splitting of your SubMesh objects, deselect it.<br>
<span style="font-weight: bold;"><span style="color: rgb(255, 255, 0);">Calculate
Edge Lists:</span> </span>Select this if you want your mesh to support
stencil shadows. This increases the size of the resulting .mesh object.<br>
<span style="font-weight: bold;"><span style="color: rgb(255, 255, 0);">Calculate
Tangents:</span> </span>Select this if you wish to use normal mapping
or some other technique which requires tangents vectors.<br>
<span style="font-weight: bold;"><span style="color: rgb(255, 255, 0);"></span></span><span
 style="font-weight: bold;"><span style="color: rgb(255, 255, 0);">Levels
of Detail:</span> </span>Increase this value above 0 if you want lower
LODs to be generated for this mesh. The rest of the parameters control
how the mesh is reduced.<br>
<span style="font-weight: bold;"><span style="color: rgb(255, 255, 0);"></span></span><span
 style="font-weight: bold;"><span style="color: rgb(255, 255, 0);"></span></span><br>
<span style="font-weight: bold;"><span style="color: rgb(255, 255, 0);"></span></span><img
 alt="page2" src="OGRE_XSI_page2.gif"
 style="width: 464px; height: 477px;"><br>
<br>
<span style="font-weight: bold;"><span style="color: rgb(255, 255, 0);">Export
Materials:</span> </span>Whether to export a .material script or not.
The field underneath contains the name of the script to export, and is
pre-populated based on the .mesh selection on the first page.<br>
<span style="font-weight: bold;"><span style="color: rgb(255, 255, 0);">Material
Prefix:</span> </span>Optional prefix to give the name of each
material.<br>
<span style="font-weight: bold;"><span style="color: rgb(255, 255, 0);"></span></span><span
 style="font-weight: bold;"><span style="color: rgb(255, 255, 0);">Copy
Textures To Folder:</span> </span>If selected, any textures referenced
in your materials will be copied into the same folder as the .material
script.<br>
<span style="font-weight: bold;"><span style="color: rgb(255, 255, 0);"></span></span><br>
<span style="font-weight: bold;"><span style="color: rgb(255, 255, 0);"></span></span><img
 alt="page3" src="OGRE_XSI_page3.gif"
 style="width: 464px; height: 477px;"><br>
<br>
<span style="font-weight: bold;"><span style="color: rgb(255, 255, 0);">Export
Skeleton:</span> </span>If checked, skeleton and animation will be
exported. Cannot be selected if no skeleton is referenced by this mesh.
The field underneath determines the target.skeleton file (pre-populated
based on the mesh name).<br>
<span style="font-weight: bold;"><span style="color: rgb(255, 255, 0);">Frames
per second:</span> </span>How to translate XSI frames into time
values. Will be populated based on XSI's playback speed, but you can
alter it if you wish.<br>
<span style="font-weight: bold;"><span style="color: rgb(255, 255, 0);">Animations:</span>
</span>This is a list of Actions which you've already saved. The fields
are as follows:<br>
<div style="margin-left: 40px;"><span style="font-weight: bold;"><span
 style="color: rgb(255, 255, 0);">Name:</span> </span>The name of the
Action, which will become the name of the animation<br>
<span style="font-weight: bold;"><span style="color: rgb(255, 255, 0);">Export?:</span>
</span>Whether to export this animation (checked by default)<br>
<span style="font-weight: bold;"><span style="color: rgb(255, 255, 0);">Sample?:</span>
</span>Animation which is based on Inverse Kinematics (IK) or other
constraints needs to be 'sampled' to turn it into Forward Kinematics
(FK) in OGRE. If your animation includes IK or other constraints you <span
 style="font-weight: bold;">must</span> leave this option enabled. Only
if you are certain your Action is comprised entirely of FK, with no
other constraints in force, should you disable this option. If in
doubt, leave it enabled.<br>
<span style="font-weight: bold;"><span style="color: rgb(255, 255, 0);">Sample
Interval:</span> </span>The number of frames between each sample, if
sampling is enabled. <br>
<span style="font-weight: bold;"><span style="color: rgb(255, 255, 0);"></span></span><span
 style="font-weight: bold;"><span style="color: rgb(255, 255, 0);"></span></span><br>
<span style="font-weight: bold;"><span style="color: rgb(255, 255, 0);"></span></span><span
 style="font-weight: bold;"><span style="color: rgb(255, 255, 0);"></span></span></div>
<span style="font-weight: bold;"><span style="color: rgb(255, 255, 0);"></span></span><span
 style="font-weight: bold;"><span style="color: rgb(255, 255, 0);"></span></span><a
 href="OGREXSI_Readme.html#top">Back To Top</a><br>
<span style="font-weight: bold;"><span style="color: rgb(255, 255, 0);"></span></span><span
 style="font-weight: bold;"><span style="color: rgb(255, 255, 0);"></span></span><br>
<p class="MainHeader" align="left"><a name="tips"></a>Tips<br>
</p>
<p>Important modelling / animating considerations:<br>
</p>
<ol>
  <li>The exporter writes one SubMesh per material if 'Merge objects
with the same material' is selected. If unselected, you get one SubMesh
per PolygonMesh (or clusters with differing materials within them)<br>
  </li>
  <li>The exporter writes all your export settings into a custom
property in your scene, meaning that all your preferences are
remembered for this scene, even between loads.<br>
  </li>
  <li>The exporter only exports PolygonMesh objects, so if you work
with higher-order surfaces like NURBS you must create a PolygonMesh
object from these surfaces before exporting</li>
  <li>The exporter writes a single .mesh at a time and combines all the
objects selected (and their children, if you select that option)</li>
  <li>All global modelling coordinates are preserved, so the origin of
your resulting .mesh will be where the world origin is in XSI<br>
  </li>
  <li>Animations must be stored in ActionSource instances (Animate &gt;
Actions &gt; Store) to be exported. Any work-in-progress animation will
not be picked up<br>
  </li>
  <li>You can make your animations smaller by turning them into FK
beforehand, and thus avoid fixed-rate sampling. This is somewhat tricky
to do properly, and you can't typically have IK and FK actions
functioning on the same model. If you're not sure, keep the 'Sample?'
option checked for your animations, since it's the simplest way to make
sure the animations look right in OGRE.</li>
</ol>
Important material considerations:<br>
<ul>
  <li>The defaults that XSI gives to some real time material components
are not normally what you'd want (and not the OGRE default). For
example:</li>
  <ul>
    <li>OGLDraw and DXDraw objects have a default culling mode of
'None', meaning all materials are double-sided by default, you will
probably want to change that for efficiency</li>
    <li>OGLTexture and DXTexture both default to no mip mapping. You
will probably want to alter the defaults so that you have at least
sampled point mipmapping (in DXTexture this is a separate setting, in
OGLTexture it's combined with the minification filter)</li>
  </ul>
</ul>
<a href="OGREXSI_Readme.html#top">Back To Top</a>
<p class="MainHeader" align="left"><a name="changelog"></a>Change Log<br>
</p>
<p style="font-weight: bold;">1.0.1c<br>
</p>
<ul>
  <li>Added material exporting</li>
  <li>Added animation sampling (handle IK, other constraints seamlessly)</li>
  <li>Fixed vertex output format for software skinning</li>
  <li>Fixed a problem with translation keyframes</li>
  <li>Added optimisation of resulting animations (eliminate identity
tracks, collapse identical keyframes)</li>
  <li>Fixed frame -&gt; time conversion with varying Action bases</li>
  <li>Reorganised GUI a little</li>
  <li>Deal with case-insensitive fcurve references</li>
  <li>Linux build fixes<br>
  </li>
</ul>
<p><a href="OGREXSI_Readme.html#top">Back To Top</a></p>
<p class="MainHeader" align="left">Reporting Issues<br>
</p>
<p>Please report any issues with the exporter in the <a
 href="http://www.ogre3d.org/phpBB2">OGRE Forums</a>.</p>
<p>&nbsp;<a href="OGREXSI_Readme.html#top">Back To Top</a></p>
</body>
</html>
