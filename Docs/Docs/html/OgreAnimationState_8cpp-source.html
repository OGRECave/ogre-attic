<html>
<head>
<title>OGRE Documentation</title> <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"> 
<link type="text/css" rel="stylesheet" href="style.css">
</head>

<body>
<!-- Generated by Doxygen 1.2.16 -->
<center>
<a class="qindex" href="index.html">Main Page</a> &nbsp; <a class="qindex" href="namespaces.html">Namespace List</a> &nbsp; <a class="qindex" href="hierarchy.html">Class Hierarchy</a> &nbsp; <a class="qindex" href="classes.html">Alphabetical List</a> &nbsp; <a class="qindex" href="annotated.html">Compound List</a> &nbsp; <a class="qindex" href="files.html">File List</a> &nbsp; <a class="qindex" href="namespacemembers.html">Namespace Members</a> &nbsp; <a class="qindex" href="functions.html">Compound Members</a> &nbsp; <a class="qindex" href="globals.html">File Members</a> &nbsp; <a class="qindex" href="pages.html">Related Pages</a> &nbsp; </center>
<hr><h1>OgreAnimationState.cpp</h1><a href="OgreAnimationState_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><pre>00001 <font class="comment">/*</font>
00002 <font class="comment">-----------------------------------------------------------------------------</font>
00003 <font class="comment">This source file is part of OGRE</font>
00004 <font class="comment">    (Object-oriented Graphics Rendering Engine)</font>
00005 <font class="comment">For the latest info, see http://www.stevestreeting.com/ogre/</font>
00006 <font class="comment"></font>
00007 <font class="comment">Copyright © 2000-2002 Steven J. Streeting</font>
00008 <font class="comment">Also see acknowledgements in Readme.html</font>
00009 <font class="comment"></font>
00010 <font class="comment">This program is free software; you can redistribute it and/or modify it under</font>
00011 <font class="comment">the terms of the GNU General Public License as published by the Free Software</font>
00012 <font class="comment">Foundation; either version 2 of the License, or (at your option) any later</font>
00013 <font class="comment">version.</font>
00014 <font class="comment"></font>
00015 <font class="comment">This program is distributed in the hope that it will be useful, but WITHOUT</font>
00016 <font class="comment">ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS</font>
00017 <font class="comment">FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.</font>
00018 <font class="comment"></font>
00019 <font class="comment">You should have received a copy of the GNU General Public License along with</font>
00020 <font class="comment">this program; if not, write to the Free Software Foundation, Inc., 59 Temple</font>
00021 <font class="comment">Place - Suite 330, Boston, MA 02111-1307, USA, or go to</font>
00022 <font class="comment">http://www.gnu.org/copyleft/gpl.html.</font>
00023 <font class="comment">-----------------------------------------------------------------------------</font>
00024 <font class="comment">*/</font>
00025 
00026 <font class="preprocessor">#include "<a class="code" href="OgreAnimationState_8h.html">OgreAnimationState.h</a>"</font>
00027 
00028 <font class="keyword">namespace </font>Ogre 
00029 {
00030 
00031     <font class="comment">//---------------------------------------------------------------------</font>
<a name="l00032"></a><a class="code" href="classOgre_1_1AnimationState.html#Ogre_1_1AnimationStatea0">00032</a>     AnimationState::AnimationState()
00033     {
00034         <a class="code" href="classOgre_1_1AnimationState.html#Ogre_1_1AnimationStaten1">mTimePos</a> = 0;
00035         <a class="code" href="classOgre_1_1AnimationState.html#Ogre_1_1AnimationStaten2">mLength</a> = 0;
00036         <a class="code" href="classOgre_1_1AnimationState.html#Ogre_1_1AnimationStaten3">mInvLength</a> = 0;
00037         <a class="code" href="classOgre_1_1AnimationState.html#Ogre_1_1AnimationStaten4">mWeight</a> = 1.0;
00038 
00039     }
00040     <font class="comment">//---------------------------------------------------------------------</font>
<a name="l00041"></a><a class="code" href="classOgre_1_1AnimationState.html#Ogre_1_1AnimationStatea1">00041</a>     AnimationState::AnimationState(<font class="keyword">const</font> <a class="code" href="classOgre_1_1String.html">String</a>&amp; animName, <a class="code" href="namespaceOgre.html#a281">Real</a> timePos, <a class="code" href="namespaceOgre.html#a281">Real</a> length, <a class="code" href="namespaceOgre.html#a281">Real</a> weight, <font class="keywordtype">bool</font> enabled)
00042         : mAnimationName(animName), mTimePos(timePos), mWeight(weight), mEnabled(enabled)
00043     {
00044         <a class="code" href="classOgre_1_1AnimationState.html#Ogre_1_1AnimationStatea7">setLength</a>(length);
00045     }
00046     <font class="comment">//---------------------------------------------------------------------</font>
<a name="l00047"></a><a class="code" href="classOgre_1_1AnimationState.html#Ogre_1_1AnimationStatea2">00047</a>     <a class="code" href="classOgre_1_1String.html">String</a> AnimationState::getAnimationName()<font class="keyword"> const</font>
00048 <font class="keyword">    </font>{
00049         <font class="keywordflow">return</font> <a class="code" href="classOgre_1_1AnimationState.html#Ogre_1_1AnimationStaten0">mAnimationName</a>;
00050     }
00051     <font class="comment">//---------------------------------------------------------------------</font>
<a name="l00052"></a><a class="code" href="classOgre_1_1AnimationState.html#Ogre_1_1AnimationStatea3">00052</a>     <font class="keywordtype">void</font> AnimationState::setAnimationName(<font class="keyword">const</font> <a class="code" href="classOgre_1_1String.html">String</a>&amp; name)
00053     {
00054         <a class="code" href="classOgre_1_1AnimationState.html#Ogre_1_1AnimationStaten0">mAnimationName</a> = name;
00055     }
00056     <font class="comment">//---------------------------------------------------------------------</font>
<a name="l00057"></a><a class="code" href="classOgre_1_1AnimationState.html#Ogre_1_1AnimationStatea4">00057</a>     <a class="code" href="namespaceOgre.html#a281">Real</a> AnimationState::getTimePosition(<font class="keywordtype">void</font>)<font class="keyword"> const</font>
00058 <font class="keyword">    </font>{
00059         <font class="keywordflow">return</font> <a class="code" href="classOgre_1_1AnimationState.html#Ogre_1_1AnimationStaten1">mTimePos</a>;
00060     }
00061     <font class="comment">//---------------------------------------------------------------------</font>
<a name="l00062"></a><a class="code" href="classOgre_1_1AnimationState.html#Ogre_1_1AnimationStatea5">00062</a>     <font class="keywordtype">void</font> AnimationState::setTimePosition(<a class="code" href="namespaceOgre.html#a281">Real</a> timePos)
00063     {
00064         <a class="code" href="classOgre_1_1AnimationState.html#Ogre_1_1AnimationStaten1">mTimePos</a> = timePos;
00065     }
00066     <font class="comment">//---------------------------------------------------------------------</font>
<a name="l00067"></a><a class="code" href="classOgre_1_1AnimationState.html#Ogre_1_1AnimationStatea6">00067</a>     <a class="code" href="namespaceOgre.html#a281">Real</a> AnimationState::getLength()<font class="keyword"> const</font>
00068 <font class="keyword">    </font>{
00069         <font class="keywordflow">return</font> <a class="code" href="classOgre_1_1AnimationState.html#Ogre_1_1AnimationStaten2">mLength</a>;
00070     }
00071     <font class="comment">//---------------------------------------------------------------------</font>
<a name="l00072"></a><a class="code" href="classOgre_1_1AnimationState.html#Ogre_1_1AnimationStatea7">00072</a>     <font class="keywordtype">void</font> AnimationState::setLength(<a class="code" href="namespaceOgre.html#a281">Real</a> len)
00073     {
00074         <a class="code" href="classOgre_1_1AnimationState.html#Ogre_1_1AnimationStaten2">mLength</a> = len;
00075         <font class="keywordflow">if</font> (len != 0)
00076         {
00077             <a class="code" href="classOgre_1_1AnimationState.html#Ogre_1_1AnimationStaten3">mInvLength</a> = 1/len;
00078         }
00079         <font class="keywordflow">else</font>
00080         {
00081             <a class="code" href="classOgre_1_1AnimationState.html#Ogre_1_1AnimationStaten3">mInvLength</a> = 0;
00082         }
00083     }
00084     <font class="comment">//---------------------------------------------------------------------</font>
<a name="l00085"></a><a class="code" href="classOgre_1_1AnimationState.html#Ogre_1_1AnimationStatea8">00085</a>     <a class="code" href="namespaceOgre.html#a281">Real</a> AnimationState::getWeight(<font class="keywordtype">void</font>)<font class="keyword"> const</font>
00086 <font class="keyword">    </font>{
00087         <font class="keywordflow">return</font> <a class="code" href="classOgre_1_1AnimationState.html#Ogre_1_1AnimationStaten4">mWeight</a>;
00088     }
00089     <font class="comment">//---------------------------------------------------------------------</font>
<a name="l00090"></a><a class="code" href="classOgre_1_1AnimationState.html#Ogre_1_1AnimationStatea9">00090</a>     <font class="keywordtype">void</font> AnimationState::setWeight(<a class="code" href="namespaceOgre.html#a281">Real</a> weight)
00091     {
00092         <a class="code" href="classOgre_1_1AnimationState.html#Ogre_1_1AnimationStaten4">mWeight</a> = weight;
00093     }
00094     <font class="comment">//---------------------------------------------------------------------</font>
<a name="l00095"></a><a class="code" href="classOgre_1_1AnimationState.html#Ogre_1_1AnimationStatea10">00095</a>     <font class="keywordtype">void</font> AnimationState::addTime(<a class="code" href="namespaceOgre.html#a281">Real</a> offset)
00096     {
00097         <a class="code" href="classOgre_1_1AnimationState.html#Ogre_1_1AnimationStaten1">mTimePos</a> = <a class="code" href="classOgre_1_1AnimationState.html#Ogre_1_1AnimationStaten1">mTimePos</a> + offset;
00098 
00099         <font class="comment">// Wrap over upper bound</font>
00100         <font class="keywordflow">while</font> (<a class="code" href="classOgre_1_1AnimationState.html#Ogre_1_1AnimationStaten1">mTimePos</a> &gt; <a class="code" href="classOgre_1_1AnimationState.html#Ogre_1_1AnimationStaten2">mLength</a>)
00101         {
00102             <a class="code" href="classOgre_1_1AnimationState.html#Ogre_1_1AnimationStaten1">mTimePos</a> -= <a class="code" href="classOgre_1_1AnimationState.html#Ogre_1_1AnimationStaten2">mLength</a>;
00103         }
00104 
00105         <font class="comment">// Wrap over lower bound</font>
00106         <font class="keywordflow">while</font> (<a class="code" href="classOgre_1_1AnimationState.html#Ogre_1_1AnimationStaten1">mTimePos</a> &lt; 0)
00107         {
00108             <a class="code" href="classOgre_1_1AnimationState.html#Ogre_1_1AnimationStaten1">mTimePos</a> += <a class="code" href="classOgre_1_1AnimationState.html#Ogre_1_1AnimationStaten2">mLength</a>;
00109         }
00110     }
00111     <font class="comment">//---------------------------------------------------------------------</font>
<a name="l00112"></a><a class="code" href="classOgre_1_1AnimationState.html#Ogre_1_1AnimationStatea11">00112</a>     <font class="keywordtype">bool</font> AnimationState::getEnabled(<font class="keywordtype">void</font>)<font class="keyword"> const</font>
00113 <font class="keyword">    </font>{
00114         <font class="keywordflow">return</font> <a class="code" href="classOgre_1_1AnimationState.html#Ogre_1_1AnimationStaten5">mEnabled</a>;
00115     }
00116     <font class="comment">//---------------------------------------------------------------------</font>
<a name="l00117"></a><a class="code" href="classOgre_1_1AnimationState.html#Ogre_1_1AnimationStatea12">00117</a>     <font class="keywordtype">void</font> AnimationState::setEnabled(<font class="keywordtype">bool</font> enabled)
00118     {
00119         <a class="code" href="classOgre_1_1AnimationState.html#Ogre_1_1AnimationStaten5">mEnabled</a> = enabled;
00120     }
00121     <font class="comment">//---------------------------------------------------------------------</font>
<a name="l00122"></a><a class="code" href="classOgre_1_1AnimationState.html#Ogre_1_1AnimationStatea13">00122</a>     <font class="keywordtype">bool</font> AnimationState::operator==(<font class="keyword">const</font> <a class="code" href="classOgre_1_1AnimationState.html">AnimationState</a>&amp; rhs)<font class="keyword"> const</font>
00123 <font class="keyword">    </font>{
00124         <font class="keywordflow">if</font> (<a class="code" href="classOgre_1_1AnimationState.html#Ogre_1_1AnimationStaten0">mAnimationName</a> == rhs.<a class="code" href="classOgre_1_1AnimationState.html#Ogre_1_1AnimationStaten0">mAnimationName</a> &amp;&amp;
00125             <a class="code" href="classOgre_1_1AnimationState.html#Ogre_1_1AnimationStaten5">mEnabled</a> == rhs.<a class="code" href="classOgre_1_1AnimationState.html#Ogre_1_1AnimationStaten5">mEnabled</a> &amp;&amp;
00126             <a class="code" href="classOgre_1_1AnimationState.html#Ogre_1_1AnimationStaten1">mTimePos</a> == rhs.<a class="code" href="classOgre_1_1AnimationState.html#Ogre_1_1AnimationStaten1">mTimePos</a> &amp;&amp;
00127             <a class="code" href="classOgre_1_1AnimationState.html#Ogre_1_1AnimationStaten4">mWeight</a> == rhs.<a class="code" href="classOgre_1_1AnimationState.html#Ogre_1_1AnimationStaten4">mWeight</a> &amp;&amp;
00128             <a class="code" href="classOgre_1_1AnimationState.html#Ogre_1_1AnimationStaten2">mLength</a> == rhs.<a class="code" href="classOgre_1_1AnimationState.html#Ogre_1_1AnimationStaten2">mLength</a>)
00129         {
00130             <font class="keywordflow">return</font> <font class="keyword">true</font>;
00131         }
00132         <font class="keywordflow">else</font>
00133         {
00134             <font class="keywordflow">return</font> <font class="keyword">false</font>;
00135         }
00136     }
00137     <font class="comment">//---------------------------------------------------------------------</font>
<a name="l00138"></a><a class="code" href="classOgre_1_1AnimationState.html#Ogre_1_1AnimationStatea14">00138</a>     <font class="keywordtype">bool</font> AnimationState::operator!=(<font class="keyword">const</font> <a class="code" href="classOgre_1_1AnimationState.html">AnimationState</a>&amp; rhs)<font class="keyword"> const</font>
00139 <font class="keyword">    </font>{
00140         <font class="keywordflow">return</font> !(*<font class="keyword">this</font> == rhs);
00141     }
00142     <font class="comment">//---------------------------------------------------------------------</font>
<a name="l00143"></a><a class="code" href="classOgre_1_1AnimationState.html#Ogre_1_1AnimationStatea15">00143</a>     <a class="code" href="namespaceOgre.html#a281">Real</a> AnimationState::getValue(<font class="keywordtype">void</font>)
00144     {
00145         <font class="keywordflow">return</font> <a class="code" href="classOgre_1_1AnimationState.html#Ogre_1_1AnimationStaten1">mTimePos</a> * <a class="code" href="classOgre_1_1AnimationState.html#Ogre_1_1AnimationStaten3">mInvLength</a>;
00146     }
00147     <font class="comment">//---------------------------------------------------------------------</font>
<a name="l00148"></a><a class="code" href="classOgre_1_1AnimationState.html#Ogre_1_1AnimationStatea16">00148</a>     <font class="keywordtype">void</font> AnimationState::setValue(<a class="code" href="namespaceOgre.html#a281">Real</a> value)
00149     {
00150         <a class="code" href="classOgre_1_1AnimationState.html#Ogre_1_1AnimationStaten1">mTimePos</a> = value * <a class="code" href="classOgre_1_1AnimationState.html#Ogre_1_1AnimationStaten2">mLength</a>;
00151     }
00152 
00153 
00154 
00155 }
</pre></div><p>
Copyright &copy; 2002 by The OGRE Team<br />
<script type="text/javascript">
<!--//hide script from old browsers
document.write( "Last modified "+ document.lastModified );
//end hiding contents -->
</script>
</p>
</body>
</html>
