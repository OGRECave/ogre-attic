<html>
<head>
<title>Tutorial: Particle Scripts</title> <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"><STYLE TYPE="text/css">
<!--
.MainHeader {  font-weight: bold; color: #FFFF33; background-color: #006600; font-size: 10pt}
body {  font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 10pt; color: #CCFFCC; background-color: #003300}
.BorderHeader {  background-color: #999900; font-size: 8pt; font-weight: bold; color: #333300; text-align: center}
.MainContent { font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 10pt; color: #CCFFCC }
.BorderContent {  font-size: 8pt; color: #66CC33; border-color: black #666600 #666600; padding-top: 2px; padding-right: 2px; padding-bottom: 10px; padding-left: 2px; margin-bottom: 2px; border-style: solid; border-top-width: 0px; border-right-width: 1px; border-bottom-width: 1px; border-left-width: 1px}
a:link {  color: #FFFF00; text-decoration: underline}
a:hover {  color: #FFFFFF; text-decoration: underline}
a:visited {  color: #FFCC66; text-decoration: underline}
li {  color: #66CC33; list-style-type: circle; position: relative; left: -15px; clip:    rect(   )}
.NewsDate {  color: #CCFFCC; font-weight: bold}
td {  font-size: 10pt}
th {  font-size: 10pt}
.Annotation {  font-size: 10px}

H1 { text-align: center; }
A.qindex {}
A.qindexRef {}
A.el { text-decoration: none; font-weight: bold }
A.elRef { font-weight: bold }
A.code { text-decoration: none; font-weight: normal; color: #4444ee }
A.codeRef { font-weight: normal; color: #4444ee }
DL.el { margin-left: -1cm }
DIV.fragment { width: 100%; border: none; background-color: #003300 }
DIV.ah { background-color: black; margin-bottom: 3; margin-top: 3 }
TD.md { background-color: #006600 }
DIV.groupHeader { margin-left: 16; margin-top: 12; margin-bottom: 6; font-weight: bold }
DIV.groupText { margin-left: 16; font-style: italic; font-size: smaller }
FONT.keyword       { color: #008000 }
FONT.keywordtype   { color: #999920 }
FONT.keywordflow   { color: #e0FF00 }
FONT.comment       { color: #009900 }
FONT.preprocessor  { color: #809020 }
FONT.stringliteral { color: #002080 }
FONT.charliteral   { color: #008080 }

H3 {
    FONT-FAMILY: trebuchet ms,helvetica,arial
}

.ex {
    FONT-SIZE: 8pt; FONT-FAMILY: tahoma
}
CODE.keywordtype {
    COLOR: #00ccff
}
CODE.keyword {
    FONT-WEIGHT: bold; COLOR: #00ccff
}
CODE.fn {
    COLOR: white;
    FONT-WEIGHT: bold;
}
CODE.var {
    COLOR: #dcdcdc;
}
CODE.macro {
    COLOR: #809020;
    FONT-WEIGHT: bold;
}
CODE.comm {
    COLOR: lime
}
CODE.num {
    COLOR: purple
}
CODE.str {
    COLOR: #ffcc33;
    font-style: italic
}
.SectionHeader {  font-size: 14px; color: #FFFFCC; font-weight: bold}
.header {  font-size: 16px; font-weight: bold; color: #FFFFCC}
-->
</STYLE> 
</head>

<body bgcolor="#FFFFFF" text="#000000">
<p align="center" class="header">OGRE (Object-Oriented Graphics Rendering Engine)</p><p align="center" class="header">Particle 
System Scripts</p><p align="left" class="MainHeader">&nbsp;</p><P ALIGN="LEFT" CLASS="SectionHeader">Particle 
System scripts</P><P ALIGN="LEFT">Particle System scripts allow you to define 
particle systems to be instantiated in your code without having to hard-code the 
settings themselves in your source code, allowing a very quick turnaround on any 
changes you make. Particle systems which are defined in scripts are used as templates, 
and multiple actual systems can be created from them at runtime.</P><P ALIGN="LEFT" CLASS="SectionHeader">Loading 
scripts</P><P ALIGN="LEFT">Particle system scripts are loaded at initialisation 
time by the system: by default it looks in all common resource locations (see 
Root::addResourceLocation) for files with the '.particle' extension and parses 
them. If you want to parse files with a different extension, use the ParticleSystemManager::getSingleton().parseAllSources 
method with your own extension, or if you want to parse an individual file, use 
ParticleSystemManager::getSingleton().parseScript.</P><P ALIGN="LEFT">Once scripts 
have been parsed, your code is free to instantiate systems based on them using 
the ParticleSystemManager::getSingleton().createSystem() method which can take 
both a name for the new system, and the name of the template to base it on (this 
template name is in the script).</P><P ALIGN="LEFT" CLASS="SectionHeader">Format</P><P ALIGN="LEFT">Several 
particle systems may be defined in a single script. The script format is pseudo-C++, 
with sections delimited by curly braces ({}), and comments indicated by starting 
a line with '//' (note, no nested form comments allowed). The general format is 
shown below in a typical example:</P><HR><P>// A sparkly purple fountain<BR> Examples/PurpleFountain<BR>{<BR> 
&nbsp;&nbsp;&nbsp;&nbsp;material Examples/Flare2<BR> &nbsp;&nbsp;&nbsp;&nbsp;particle_width 
20<BR> &nbsp;&nbsp;&nbsp;&nbsp;particle_height 20<BR> &nbsp;&nbsp;&nbsp;&nbsp;cull_each 
false<BR> &nbsp;&nbsp;&nbsp;&nbsp;quota 10000<BR> &nbsp;&nbsp;&nbsp;&nbsp;billboard_type 
oriented_self<BR> <BR> &nbsp;&nbsp;&nbsp;&nbsp;// Area emitter<BR> &nbsp;&nbsp;&nbsp;&nbsp;emitter 
Point<BR> &nbsp;&nbsp;&nbsp;&nbsp;{<BR> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;angle 
15<BR> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;emission_rate 75<BR> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;time_to_live 
3<BR> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;direction 0 1 0<BR> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;velocity_min 
250<BR> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;velocity_max 300<BR> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;colour_range_start 
1 0 0<BR> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;colour_range_end 0 0 
1<BR>&nbsp;&nbsp;&nbsp;&nbsp;}</P><P> &nbsp;&nbsp;&nbsp;&nbsp;// Gravity<BR> &nbsp;&nbsp;&nbsp;&nbsp;affector 
LinearForce<BR> &nbsp;&nbsp;&nbsp;&nbsp;{<BR> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;force_vector 
0 -100 0<BR> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;force_application 
add<BR> &nbsp;&nbsp;&nbsp;&nbsp;}</P><P> &nbsp;&nbsp;&nbsp;&nbsp;// Fader<BR> 
&nbsp;&nbsp;&nbsp;&nbsp;affector ColourFader<BR> &nbsp;&nbsp;&nbsp;&nbsp;{<BR> 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;red -0.25<BR> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;green 
-0.25<BR> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;blue -0.25<BR> &nbsp;&nbsp;&nbsp;&nbsp;}<BR>}<BR></P><HR><P ALIGN="LEFT">Every 
particle system in the script must be given a name, which is the line before the 
first opening '{', in the example this is 'Examples/PurpleFountain'. This name 
must be globally unique. It can include path characters (as in the example) to 
logically divide up your particle systems, and also to avoid duplicate names, 
but the engine does not treat the name as hierarchical, just as a string.</P><P ALIGN="LEFT">A 
system can have top-level attributes set using the scripting commands available, 
such as 'quota' to set the maximum number of particles allowed in the system. 
Emitters (which create particles) and affectors (which modify particles) are added 
as nested definitions within the script. The parameters available in the emitter 
and affector sections are entirely dependent on the type of emitter / affector.</P><P ALIGN="LEFT">For 
a detailed description of the core particle system attributes, see the list below:</P><P ALIGN="LEFT" CLASS="SectionHeader">Particle 
System Attributes </P><UL><LI><A HREF="ParticleSystemAttributes.html#quota">quota</A></LI><LI><A HREF="ParticleSystemAttributes.html#material">material</A></LI><LI><A HREF="ParticleSystemAttributes.html#particle_width">particle_width</A></LI><LI><A HREF="ParticleSystemAttributes.html#particle_height">particle_height</A></LI><LI><A HREF="ParticleSystemAttributes.html#cull_each">cull_each</A></LI><LI><A HREF="ParticleSystemAttributes.html#billboard_type">billboard_type</A></LI><LI><A HREF="ParticleSystemAttributes.html#common_direction">common_direction</A></LI></UL><P>See 
also: </P><P CLASS="SectionHeader"><A HREF="ParticleEmitters.html">Particle Emitters</A></P><P CLASS="SectionHeader"><A HREF="ParticleAffectors.html">Particle 
Affectors</A></P><P>&nbsp;</P><P>&nbsp;</P><TABLE WIDTH="100%" BORDER="0" CELLSPACING="2" CELLPADDING="0"><TR><TD WIDTH="14%"><A HREF="../index.html">Back 
to Index</A></TD><TD WIDTH="39%">&nbsp;</TD><TD WIDTH="22%"><A HREF="MaterialScriptAttributes.html">&lt;&lt; 
Previous section</A></TD><TD WIDTH="25%"><A HREF="ParticleSystemAttributes.html">Next 
section &gt;&gt;</A></TD></TR></TABLE><P>&nbsp;</P><P>&nbsp;</P><P>&nbsp;</P><P CLASS="SectionHeader">&nbsp;</P>
</body>
</html>
