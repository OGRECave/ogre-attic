<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<!-- saved from url=(0079)http://www.ogre3d.org/docs/Tutorials/2_HumbleBeginnings/CreatingTheProject.html -->
<HTML><HEAD><TITLE>Creating OGRE Project Files</TITLE>
<META http-equiv=Content-Type content="text/html; charset=windows-1252">
<STYLE type=text/css>.MainHeader {
	FONT-WEIGHT: bold; FONT-SIZE: 10pt; COLOR: #ffffff; BACKGROUND-COLOR: #003300
}
BODY {
	FONT-SIZE: 10pt; COLOR: #003300; FONT-FAMILY: Verdana, Arial, Helvetica, sans-serif; BACKGROUND-COLOR: #ffffff
}
.BorderHeader {
	FONT-WEIGHT: bold; FONT-SIZE: 8pt; COLOR: #333300; BACKGROUND-COLOR: #999900; TEXT-ALIGN: center
}
.MainContent {
	FONT-SIZE: 10pt; COLOR: #003300; FONT-FAMILY: Verdana, Arial, Helvetica, sans-serif
}
.BorderContent {
	BORDER-RIGHT: #666600 1px solid; PADDING-RIGHT: 2px; BORDER-TOP: black 0px solid; PADDING-LEFT: 2px; FONT-SIZE: 8pt; MARGIN-BOTTOM: 2px; PADDING-BOTTOM: 10px; BORDER-LEFT: #666600 1px solid; COLOR: #000000; PADDING-TOP: 2px; BORDER-BOTTOM: #666600 1px solid
}
A:link {
	COLOR: #000066; TEXT-DECORATION: underline
}
A:hover {
	COLOR: #0000ff; TEXT-DECORATION: underline
}
A:visited {
	COLOR: #660066; TEXT-DECORATION: underline
}
LI {
	LEFT: -15px; COLOR: #000000; LIST-STYLE-TYPE: circle; POSITION: relative
}
.NewsDate {
	FONT-WEIGHT: bold; COLOR: #000000
}
TD {
	FONT-SIZE: 10pt
}
TH {
	FONT-SIZE: 10pt
}
.Annotation {
	FONT-SIZE: 10px
}
.header {
	FONT-SIZE: 16pt; COLOR: #000000
}
.SectionHeader {
	FONT-WEIGHT: bold; FONT-SIZE: 14px; COLOR: #000000
}
PRE {
	FONT-SIZE: 12px; COLOR: #000066
}
</STYLE>

<META content="MSHTML 6.00.2800.1400" name=GENERATOR>
<META content="" name=keywords>
<META content="" name=description>
<META content=Nicholas name=author>
<META http-equiv=reply-to content=vastrim@hotmail.com>
<META content="Sat, 13 Jul, 2002 12:32:59 p GMT" name=creation_date></HEAD>
<BODY text=#000000 bgColor=#ffffff>
<P class=header align=center>OGRE (Object-Oriented Graphics Rendering 
Engine)</P>
<P class=header align=center>Creating project files for OGRE </P>
<P class=MainHeader align=left>&nbsp;</P>
<P class=SectionHeader align=left>Files</P>
<P align=left>In these tutorials I will assume that the projects being created 
are located in their own folder in OgreNew\Samples. I will use APPNAME as a 
place holder for where you type in the name of the application. So in the 
example of where the project files should be stored it would be 
OgreNew\Samples\APPNAME. </P>
<P align=left>NB: In a moments time we will embark on creating a small 
application called "Space", based on some of the examples supplied with Ogre. I 
suggest that if you plan on doing that tutorial that you use Space as the 
APPNAME. </P>
<P class=SectionHeader align=left>Visual C++ 7</P>
<P align=left>The first thing you need to do is create a blank Win32 Project. 
Make sure that you create a C++ project and that you have ticked the "Empty 
Project" tick box.
<BR>Now right click on the project in the solution explorer 
and change the following properties:<BR></P><PRE><TABLE cellSpacing=2 cellPadding=1 border=0><TBODY><TR><TD>Debug - Working Directory</TD><TD>=</TD><TD>..\Common\Bin\Debug</TD></TR><TR><TD>C/C++ - Preprocessor Defines</TD><TD>=</TD><TD>_WINDOWS,_STLP_USE_DYNAMIC_LIB,OGRE_LIBRARY_IMPORTS,_DEBUG,WIN32</TD></TR><TR><TD>C/C++ - Additional Include Directories</TD><TD>=</TD><TD>..\Common\Include ..\..\OgreMain\include<BR></TD></TR><TR><TD>Linker - Output File</TD><TD>=</TD><TD>..\Common\Bin\Debug\APPNAME.EXE</TD></TR><TR><TD>Linker - Additional Library Directories</TD><TD>=</TD><TD>..\..\OgreMain\Lib\Debug</TD></TR><TR><TD>Linker - Additional Dependencies</TD><TD>=</TD><TD>OGREMain.LIB</TD></TR></TBODY></TABLE>
</PRE>

<br />

<b>NB:</b> Check that your application is set to use the '<i>Multithreaded [Debug] Dll</i>' 
runtime library (under the code generation options in the C++ section).

<P align=left>Copy Samples\Skyplane\Src\SkyPlane.CPP and 
Samples\Skyplane\Include\SkyPlane.H into the directory with your project. Right 
click on the project in the solution explorer and select "Add Existing Item". 
Highlight the two files you just copied and then rebuild your solution. Now run 
it in debug mode. Everything should work. </P>
<P align=left>Now remove those two files from your project and delete them from 
your projects directory. </P>
<P align=left>The last step that we need to take in setting up the project is to 
create the main program loop. This is simpler than it sounds because if we are 
following the Ogre Example Framework then all it means we do is create an 
instance of our Application object and call it's go() method. In Visual C++ it 
will look like this: </P><PRE>/* APPNAME.CPP */<BR><BR>#include "Ogre.h"<BR>#include "APPNAMEApplication.h"<BR><BR>#define WIN32_LEAN_AND_MEAN<BR>#include "windows.h"<BR><BR>INT WINAPI WinMain( HINSTANCE hInst, HINSTANCE, LPSTR strCmdLine, INT )<BR>{<BR>    // Create application object<BR>    APPNAMEApplication app;<BR><BR>    try {<BR>        app.go();<BR>    } catch( Ogre::Exception&amp; e ) {<BR>        MessageBox( NULL, e.getFullDescription().c_str(), "An exception has occured!", MB_OK | MB_ICONERROR | MB_TASKMODAL );<BR>    }<BR><BR>    return 0;<BR>}<BR><BR></PRE>
<P align=left>This doesn't compile does it? No, because we have not written 
APPNAMEApplication.h yet. That will be discussed in the next section. </P>
<P class=SectionHeader align=left>Visual C++ 6</P>
<P align=left>Under construction. </P>
<P class=SectionHeader align=left>Linux</P>
<P align=left>Under construction. </P>
<P class=SectionHeader align=left>Borland</P>
<P align=left>Under construction. </P>
<P class=SectionHeader align=left>Mac OSX</P>
<P align=left>The first thing you need to do is to download a sample <A 
href="http://www.ogre3d.org/docs/Tutorials/2_HumbleBeginnings/MacOSX/Makefile">Makefile</A> 
to build your app. Put this in the Ogrenew/Samples/Space directory. Copy 
Samples/Skyplane/Src/SkyPlane.CPP and Samples/Skyplane/Include/SkyPlane.H into 
this same directory (ie. there should now be 3 files in this directory). </P>
<P align=left>Let's take a look at portions of the Makefile that you would need 
to amend:</P><PRE align="left"># TOPDIR points to the main directory where you installed Ogre    <BR>   TOPDIR = /source/ogrenew</PRE>
<P align=left>Amend this path to reflect the path of your Ogre installation</P>
<P></P><PRE align="left"># DEVIL_LIBS points to src path for DevIL <BR>   DEVIL_LIBS =  -L/source/DevIL/src-Il/src</PRE>
<P align=left>Amend this path to reflect the path to the DevIL 'src' 
directory.</P>
<P align=left>&nbsp;</P>
<P align=left>In the Terminal, 'cd' into Ogrenew/Samples/Space and do a 'make'. 
To run this built application, 'cd' into Ogrenew/Samples/Common/bin and do a 
'./mySkyPlane'. Everything should work.</P>
<P align=left>Now remove those two files (.cpp &amp; .h) from your 
directory.</P>
<P align=left>You will now need to edit the Makefile to reflect your new source 
files as follows</P><PRE align="left"># SRCFILES points to all files to be compiled<BR>   SRCFILES = APPNAMEApplication.cpp<BR></PRE>
<P align=left>Amend the source file name to the name of your new .cpp file</P><PRE align="left"># APPNAME is the filename of the generated executable <BR>   APPNAME = $(TOPDIR)/Samples/Common/bin/APPNAMEApplication</PRE>
<P align=left>Edit this to reflect the location and name of your executable. For 
this project, place it in the Ogrenew/Samples/Common/bin directory for 
simipliity.</P><PRE align="left"># INCLUDES points to additional include directories <BR>   INCLUDES = -I. -I$(TOPDIR)/Samples/APPNAME/include  ...</PRE>
<P align=left>If you are storing you .h file in a 'include' subdirectory, add 
its path here so that it could be located</P>
<P align=left>The last step that we need to take in setting up the project is to 
create the main program loop. This is simpler than it sounds because if we are 
following the Ogre Example Framework then all it means we do is create an 
instance of our Application object and call it's go() method. In Visual C++ it 
will look like this: </P><PRE align="left">/* APPNAME.CPP */<BR>#include "Ogre.h" #include "APPNAMEApplication.h"<BR><BR>#if OGRE_PLATFORM == PLATFORM_WIN32<BR>#define WIN32_LEAN_AND_MEAN<BR>#include "windows.h"<BR>INT WINAPI WinMain( HINSTANCE hInst, HINSTANCE, LPSTR strCmdLine, INT )<BR>#else<BR>int main(int argc, char *argv[])<BR>#endif<BR>{<BR>   // Create application object<BR>   APPNAMEApplication  app;<BR>   try {<BR>      app.go();<BR>   } catch( Ogre::Exception&amp; e ) {<BR><BR>#if OGRE_PLATFORM == PLATFORM_WIN32<BR>   MessageBox( NULL, e.getFullDescription().c_str(), "An exception has occured!",    MB_OK | MB_ICONERROR | MB_TASKMODAL );<BR>#else<BR>   std::cerr &lt;&lt; "An exception has occured: " &lt;&lt;<BR>   	e.getFullDescription().c_str() &lt;&lt; std::endl;<BR>#endif<BR>   }<BR><BR>   return 0;<BR>}</PRE>
<P>Note that this source differs from the one provided. It includes codes for 
platforms other than Windows. The source for the .cpp file remains unchanged. 
Now run 'make' agin in the Terminal. This doesn't compile does it? No, because 
we have not written APPNAMEApplication.h yet. That will be discussed in the next 
section.</P>
<TABLE cellSpacing=2 cellPadding=0 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width="14%"><A 
      href="http://www.ogre3d.org/docs/Tutorials/2_HumbleBeginnings/Index.html">Back 
      to Index</A></TD>
    <TD width="39%">&nbsp;</TD>
    <TD width="22%">&lt;&lt; Previous section</TD>
    <TD width="25%"><A 
      href="http://www.ogre3d.org/docs/Tutorials/2_HumbleBeginnings/SettingUpTheScene.html">Next 
      section &gt;&gt;</A></TD></TR></TBODY></TABLE>
<P>&nbsp;</P>
<P>&nbsp;</P>
<P>&nbsp;</P>
<P class=SectionHeader>&nbsp;</P></BODY></HTML>
