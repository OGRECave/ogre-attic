<html>
<head>
<title>OGRE Documentation</title> <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"> 
<link type="text/css" rel="stylesheet" href="style.css">
</head>

<body>
<!-- Generated by Doxygen 1.2.16 -->
<center>
<a class="qindex" href="index.html">Main Page</a> &nbsp; <a class="qindex" href="namespaces.html">Namespace List</a> &nbsp; <a class="qindex" href="hierarchy.html">Class Hierarchy</a> &nbsp; <a class="qindex" href="classes.html">Alphabetical List</a> &nbsp; <a class="qindex" href="annotated.html">Compound List</a> &nbsp; <a class="qindex" href="files.html">File List</a> &nbsp; <a class="qindex" href="namespacemembers.html">Namespace Members</a> &nbsp; <a class="qindex" href="functions.html">Compound Members</a> &nbsp; <a class="qindex" href="globals.html">File Members</a> &nbsp; <a class="qindex" href="pages.html">Related Pages</a> &nbsp; </center>
<hr><h1>OgreParticleEmitter.cpp</h1><a href="OgreParticleEmitter_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><pre>00001 <font class="comment">/*</font>
00002 <font class="comment">-----------------------------------------------------------------------------</font>
00003 <font class="comment">This source file is part of OGRE </font>
00004 <font class="comment">    (Object-oriented Graphics Rendering Engine)</font>
00005 <font class="comment">For the latest info, see http://www.stevestreeting.com/ogre/</font>
00006 <font class="comment"></font>
00007 <font class="comment">Copyright © 2000-2002 Steven J. Streeting</font>
00008 <font class="comment">Also see acknowledgements in Readme.html</font>
00009 <font class="comment"></font>
00010 <font class="comment">This program is free software; you can redistribute it and/or modify it under </font>
00011 <font class="comment">the terms of the GNU General Public License as published by the Free Software </font>
00012 <font class="comment">Foundation; either version 2 of the License, or (at your option) any later </font>
00013 <font class="comment">version.</font>
00014 <font class="comment"></font>
00015 <font class="comment">This program is distributed in the hope that it will be useful, but WITHOUT </font>
00016 <font class="comment">ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS </font>
00017 <font class="comment">FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.</font>
00018 <font class="comment"></font>
00019 <font class="comment">You should have received a copy of the GNU General Public License along with </font>
00020 <font class="comment">this program; if not, write to the Free Software Foundation, Inc., 59 Temple </font>
00021 <font class="comment">Place - Suite 330, Boston, MA 02111-1307, USA, or go to </font>
00022 <font class="comment">http://www.gnu.org/copyleft/gpl.html.</font>
00023 <font class="comment">-----------------------------------------------------------------------------</font>
00024 <font class="comment">*/</font>
00025 
00026 <font class="preprocessor">#include "<a class="code" href="OgreParticleEmitter_8h.html">OgreParticleEmitter.h</a>"</font>
00027 
00028 <font class="keyword">namespace </font>Ogre {
00029 
00030     <font class="comment">// Define static members</font>
<a name="l00031"></a><a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1RingEmitterq5">00031</a>     <a class="code" href="classOgre_1_1EmitterCommands_1_1CmdAngle.html">EmitterCommands::CmdAngle</a> ParticleEmitter::msAngleCmd;
<a name="l00032"></a><a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1RingEmitterq6">00032</a>     <a class="code" href="classOgre_1_1EmitterCommands_1_1CmdColour.html">EmitterCommands::CmdColour</a> ParticleEmitter::msColourCmd;
<a name="l00033"></a><a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1RingEmitterq7">00033</a>     <a class="code" href="classOgre_1_1EmitterCommands_1_1CmdColourRangeStart.html">EmitterCommands::CmdColourRangeStart</a> ParticleEmitter::msColourRangeStartCmd;
<a name="l00034"></a><a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1RingEmitterq8">00034</a>     <a class="code" href="classOgre_1_1EmitterCommands_1_1CmdColourRangeEnd.html">EmitterCommands::CmdColourRangeEnd</a> ParticleEmitter::msColourRangeEndCmd;
<a name="l00035"></a><a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1RingEmitterq9">00035</a>     <a class="code" href="classOgre_1_1EmitterCommands_1_1CmdDirection.html">EmitterCommands::CmdDirection</a> ParticleEmitter::msDirectionCmd;
<a name="l00036"></a><a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1RingEmitterq10">00036</a>     <a class="code" href="classOgre_1_1EmitterCommands_1_1CmdEmissionRate.html">EmitterCommands::CmdEmissionRate</a> ParticleEmitter::msEmissionRateCmd;
<a name="l00037"></a><a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1RingEmitterq11">00037</a>     <a class="code" href="classOgre_1_1EmitterCommands_1_1CmdMaxTTL.html">EmitterCommands::CmdMaxTTL</a> ParticleEmitter::msMaxTTLCmd;
<a name="l00038"></a><a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1RingEmitterq12">00038</a>     <a class="code" href="classOgre_1_1EmitterCommands_1_1CmdMaxVelocity.html">EmitterCommands::CmdMaxVelocity</a> ParticleEmitter::msMaxVelocityCmd;
<a name="l00039"></a><a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1RingEmitterq13">00039</a>     <a class="code" href="classOgre_1_1EmitterCommands_1_1CmdMinTTL.html">EmitterCommands::CmdMinTTL</a> ParticleEmitter::msMinTTLCmd;
<a name="l00040"></a><a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1RingEmitterq14">00040</a>     <a class="code" href="classOgre_1_1EmitterCommands_1_1CmdMinVelocity.html">EmitterCommands::CmdMinVelocity</a> ParticleEmitter::msMinVelocityCmd;
<a name="l00041"></a><a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1RingEmitterq15">00041</a>     <a class="code" href="classOgre_1_1EmitterCommands_1_1CmdPosition.html">EmitterCommands::CmdPosition</a> ParticleEmitter::msPositionCmd;
<a name="l00042"></a><a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1RingEmitterq16">00042</a>     <a class="code" href="classOgre_1_1EmitterCommands_1_1CmdTTL.html">EmitterCommands::CmdTTL</a> ParticleEmitter::msTTLCmd;
<a name="l00043"></a><a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1RingEmitterq17">00043</a>     <a class="code" href="classOgre_1_1EmitterCommands_1_1CmdVelocity.html">EmitterCommands::CmdVelocity</a> ParticleEmitter::msVelocityCmd;
<a name="l00044"></a><a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1RingEmitterq18">00044</a>     <a class="code" href="classOgre_1_1EmitterCommands_1_1CmdDuration.html">EmitterCommands::CmdDuration</a> ParticleEmitter::msDurationCmd;
<a name="l00045"></a><a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1RingEmitterq19">00045</a>     <a class="code" href="classOgre_1_1EmitterCommands_1_1CmdMinDuration.html">EmitterCommands::CmdMinDuration</a> ParticleEmitter::msMinDurationCmd;
<a name="l00046"></a><a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1RingEmitterq20">00046</a>     <a class="code" href="classOgre_1_1EmitterCommands_1_1CmdMaxDuration.html">EmitterCommands::CmdMaxDuration</a> ParticleEmitter::msMaxDurationCmd;
<a name="l00047"></a><a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1RingEmitterq21">00047</a>     <a class="code" href="classOgre_1_1EmitterCommands_1_1CmdRepeatDelay.html">EmitterCommands::CmdRepeatDelay</a> ParticleEmitter::msRepeatDelayCmd;
<a name="l00048"></a><a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1RingEmitterq22">00048</a>     <a class="code" href="classOgre_1_1EmitterCommands_1_1CmdMinRepeatDelay.html">EmitterCommands::CmdMinRepeatDelay</a> ParticleEmitter::msMinRepeatDelayCmd;
<a name="l00049"></a><a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1RingEmitterq23">00049</a>     <a class="code" href="classOgre_1_1EmitterCommands_1_1CmdMaxRepeatDelay.html">EmitterCommands::CmdMaxRepeatDelay</a> ParticleEmitter::msMaxRepeatDelayCmd;
00050 
00051 
00052     <font class="comment">//-----------------------------------------------------------------------</font>
<a name="l00053"></a><a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1ParticleEmittera0">00053</a>     ParticleEmitter::ParticleEmitter()
00054     {
00055 
00056         <font class="comment">// Reasonable defaults</font>
00057         <a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1RingEmittern11">mAngle</a> = 0;
00058         <a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1PointEmittera5">setDirection</a>(Vector3::UNIT_X);
00059         <a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1RingEmittern7">mEmissionRate</a> = 10;
00060         <a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1RingEmittern13">mMaxSpeed</a> = <a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1RingEmittern12">mMinSpeed</a> = 1;
00061         <a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1RingEmittern15">mMaxTTL</a> = <a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1RingEmittern14">mMinTTL</a> = 5;
00062         <a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1RingEmittern6">mPosition</a> = Vector3::ZERO;
00063         <a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1RingEmittern16">mColourRangeStart</a> = <a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1RingEmittern17">mColourRangeEnd</a> = ColourValue::White;
00064 
00065     }
00066     <font class="comment">//-----------------------------------------------------------------------</font>
<a name="l00067"></a><a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1ParticleEmittera1">00067</a>     ParticleEmitter::~ParticleEmitter() 
00068     {
00069     }
00070     <font class="comment">//-----------------------------------------------------------------------</font>
<a name="l00071"></a><a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1RingEmittera17">00071</a>     <font class="keywordtype">void</font> ParticleEmitter::setPosition(<font class="keyword">const</font> <a class="code" href="classOgre_1_1Vector3.html">Vector3</a>&amp; pos) 
00072     { 
00073         <a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1RingEmittern6">mPosition</a> = pos; 
00074     }
00075     <font class="comment">//-----------------------------------------------------------------------</font>
<a name="l00076"></a><a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1RingEmittera18">00076</a>     <a class="code" href="classOgre_1_1Vector3.html">Vector3</a> ParticleEmitter::getPosition(<font class="keywordtype">void</font>) 
00077     { 
00078         <font class="keywordflow">return</font> <a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1RingEmittern6">mPosition</a>; 
00079     }
00080     <font class="comment">//-----------------------------------------------------------------------</font>
<a name="l00081"></a><a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1PointEmittera5">00081</a>     <font class="keywordtype">void</font> ParticleEmitter::setDirection(<font class="keyword">const</font> <a class="code" href="classOgre_1_1Vector3.html">Vector3</a>&amp; direction) 
00082     { 
00083         <a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1RingEmittern9">mDirection</a> = direction; 
00084         <a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1RingEmittern9">mDirection</a>.<a class="code" href="classOgre_1_1Vector3.html#Ogre_1_1Vector3a24">normalise</a>();
00085         <font class="comment">// Generate an up vector (any will do)</font>
00086         <a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1RingEmittern10">mUp</a> = <a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1RingEmittern9">mDirection</a>.<a class="code" href="classOgre_1_1Vector3.html#Ogre_1_1Vector3a31">perpendicular</a>();
00087         <a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1RingEmittern10">mUp</a>.<a class="code" href="classOgre_1_1Vector3.html#Ogre_1_1Vector3a24">normalise</a>();
00088     }
00089     <font class="comment">//-----------------------------------------------------------------------</font>
<a name="l00090"></a><a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1RingEmittera19">00090</a>     <a class="code" href="classOgre_1_1Vector3.html">Vector3</a>&amp; ParticleEmitter::getDirection(<font class="keywordtype">void</font>) 
00091     { 
00092         <font class="keywordflow">return</font> <a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1RingEmittern9">mDirection</a>; 
00093     }
00094     <font class="comment">//-----------------------------------------------------------------------</font>
<a name="l00095"></a><a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1RingEmittera20">00095</a>     <font class="keywordtype">void</font> ParticleEmitter::setAngle(<a class="code" href="namespaceOgre.html#a281">Real</a> degrees)
00096     {
00097         <font class="comment">// Store as radians for efficiency</font>
00098         <a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1RingEmittern11">mAngle</a> = Math::DegreesToRadians(degrees);
00099     }
00100     <font class="comment">//-----------------------------------------------------------------------</font>
<a name="l00101"></a><a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1RingEmittera21">00101</a>     <a class="code" href="namespaceOgre.html#a281">Real</a> ParticleEmitter::getAngle(<font class="keywordtype">void</font>)
00102     {
00103         <font class="keywordflow">return</font> Math::RadiansToDegrees(<a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1RingEmittern11">mAngle</a>);
00104     }
00105     <font class="comment">//-----------------------------------------------------------------------</font>
<a name="l00106"></a><a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1RingEmittera22">00106</a>     <font class="keywordtype">void</font> ParticleEmitter::setParticleVelocity(<a class="code" href="namespaceOgre.html#a281">Real</a> speed)
00107     {
00108         <a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1RingEmittern12">mMinSpeed</a> = <a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1RingEmittern13">mMaxSpeed</a> = speed;
00109     }
00110     <font class="comment">//-----------------------------------------------------------------------</font>
<a name="l00111"></a><a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1RingEmittera23">00111</a>     <font class="keywordtype">void</font> ParticleEmitter::setParticleVelocity(<a class="code" href="namespaceOgre.html#a281">Real</a> min, <a class="code" href="namespaceOgre.html#a281">Real</a> max)
00112     {
00113         <a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1RingEmittern12">mMinSpeed</a> = min;
00114         <a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1RingEmittern13">mMaxSpeed</a> = max;
00115     }
00116     <font class="comment">//-----------------------------------------------------------------------</font>
<a name="l00117"></a><a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1RingEmittera29">00117</a>     <font class="keywordtype">void</font> ParticleEmitter::setEmissionRate(<a class="code" href="namespaceOgre.html#a281">Real</a> particlesPerSecond) 
00118     { 
00119         <a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1RingEmittern7">mEmissionRate</a> = particlesPerSecond; 
00120     }
00121     <font class="comment">//-----------------------------------------------------------------------</font>
<a name="l00122"></a><a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1RingEmittera30">00122</a>     <a class="code" href="namespaceOgre.html#a281">Real</a> ParticleEmitter::getEmissionRate(<font class="keywordtype">void</font>) 
00123     { 
00124         <font class="keywordflow">return</font> <a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1RingEmittern7">mEmissionRate</a>; 
00125     }
00126     <font class="comment">//-----------------------------------------------------------------------</font>
<a name="l00127"></a><a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1RingEmittera31">00127</a>     <font class="keywordtype">void</font> ParticleEmitter::setTimeToLive(<a class="code" href="namespaceOgre.html#a281">Real</a> ttl)
00128     {
00129         <a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1RingEmittern14">mMinTTL</a> = <a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1RingEmittern15">mMaxTTL</a> = ttl;
00130     }
00131     <font class="comment">//-----------------------------------------------------------------------</font>
<a name="l00132"></a><a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1RingEmittera32">00132</a>     <font class="keywordtype">void</font> ParticleEmitter::setTimeToLive(<a class="code" href="namespaceOgre.html#a281">Real</a> minTtl, <a class="code" href="namespaceOgre.html#a281">Real</a> maxTtl)
00133     {
00134         <a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1RingEmittern14">mMinTTL</a> = minTtl;
00135         <a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1RingEmittern15">mMaxTTL</a> = maxTtl;
00136     }
00137     <font class="comment">//-----------------------------------------------------------------------</font>
<a name="l00138"></a><a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1RingEmittera38">00138</a>     <font class="keywordtype">void</font> ParticleEmitter::setColour(<font class="keyword">const</font> <a class="code" href="classOgre_1_1ColourValue.html">ColourValue</a>&amp; colour)
00139     {
00140         <a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1RingEmittern16">mColourRangeStart</a> = <a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1RingEmittern17">mColourRangeEnd</a> = colour;
00141     }
00142     <font class="comment">//-----------------------------------------------------------------------</font>
<a name="l00143"></a><a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1RingEmittera39">00143</a>     <font class="keywordtype">void</font> ParticleEmitter::setColour(<font class="keyword">const</font> <a class="code" href="classOgre_1_1ColourValue.html">ColourValue</a>&amp; colourStart, <font class="keyword">const</font> <a class="code" href="classOgre_1_1ColourValue.html">ColourValue</a>&amp; colourEnd)
00144     {
00145         <a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1RingEmittern16">mColourRangeStart</a> = colourStart;
00146         <a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1RingEmittern17">mColourRangeEnd</a> = colourEnd;
00147     }
00148     <font class="comment">//-----------------------------------------------------------------------</font>
<a name="l00149"></a><a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1RingEmitterb2">00149</a>     <font class="keywordtype">void</font> ParticleEmitter::genEmissionDirection(<a class="code" href="classOgre_1_1Vector3.html">Vector3</a>&amp; destVector)
00150     {
00151         <font class="keywordflow">if</font> (<a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1RingEmittern11">mAngle</a> != 0)
00152         {
00153             <font class="comment">// Randomise angle</font>
00154             <a class="code" href="namespaceOgre.html#a281">Real</a> angle = Math::UnitRandom() * <a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1RingEmittern11">mAngle</a>;
00155 
00156             <font class="comment">// Randomise direction</font>
00157             destVector = <a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1RingEmittern9">mDirection</a>.<a class="code" href="classOgre_1_1Vector3.html#Ogre_1_1Vector3a32">randomDeviant</a>(angle, <a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1RingEmittern10">mUp</a>);
00158         }
00159         <font class="keywordflow">else</font>
00160         {
00161             <font class="comment">// Constant angle</font>
00162             destVector = <a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1RingEmittern9">mDirection</a>;
00163         }
00164 
00165         <font class="comment">// Don't normalise, we can assume that it will still be a unit vector since</font>
00166         <font class="comment">// both direction and 'up' are.</font>
00167 
00168     }
00169     <font class="comment">//-----------------------------------------------------------------------</font>
<a name="l00170"></a><a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1RingEmitterb3">00170</a>     <font class="keywordtype">void</font> ParticleEmitter::genEmissionVelocity(<a class="code" href="classOgre_1_1Vector3.html">Vector3</a>&amp; destVector)
00171     {
00172         <a class="code" href="namespaceOgre.html#a281">Real</a> scalar;
00173         <font class="keywordflow">if</font> (<a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1RingEmittern12">mMinSpeed</a> != <a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1RingEmittern13">mMaxSpeed</a>)
00174         {
00175             scalar = <a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1RingEmittern12">mMinSpeed</a> + (Math::UnitRandom() * (<a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1RingEmittern13">mMaxSpeed</a> - <a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1RingEmittern12">mMinSpeed</a>));
00176         }
00177         <font class="keywordflow">else</font>
00178         {
00179             scalar = <a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1RingEmittern12">mMinSpeed</a>;
00180         }
00181 
00182         destVector *= scalar;
00183     }
00184     <font class="comment">//-----------------------------------------------------------------------</font>
<a name="l00185"></a><a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1RingEmitterb4">00185</a>     <a class="code" href="namespaceOgre.html#a281">Real</a> ParticleEmitter::genEmissionTTL(<font class="keywordtype">void</font>)
00186     {
00187         <font class="keywordflow">if</font> (<a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1RingEmittern15">mMaxTTL</a> != <a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1RingEmittern14">mMinTTL</a>)
00188         {
00189             <font class="keywordflow">return</font> <a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1RingEmittern14">mMinTTL</a> + (Math::UnitRandom() * (<a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1RingEmittern15">mMaxTTL</a> - <a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1RingEmittern14">mMinTTL</a>));
00190         }
00191         <font class="keywordflow">else</font>
00192         {
00193             <font class="keywordflow">return</font> <a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1RingEmittern14">mMinTTL</a>;
00194         }
00195     }
00196     <font class="comment">//-----------------------------------------------------------------------</font>
<a name="l00197"></a><a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1RingEmitterb6">00197</a>     <font class="keywordtype">unsigned</font> <font class="keywordtype">short</font> ParticleEmitter::genConstantEmissionCount(<a class="code" href="namespaceOgre.html#a281">Real</a> timeElapsed)
00198     {
00199         <font class="keyword">static</font> <a class="code" href="namespaceOgre.html#a281">Real</a> remainder = 0;
00200         <font class="keywordtype">unsigned</font> <font class="keywordtype">short</font> intRequest;
00201         
00202         <font class="keywordflow">if</font> (mEnabled)
00203         {
00204             <font class="comment">// Keep fractions, otherwise a high frame rate will result in zero emissions!</font>
00205             remainder += <a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1RingEmittern7">mEmissionRate</a> * timeElapsed;
00206             intRequest = (<font class="keywordtype">unsigned</font> <font class="keywordtype">short</font>)remainder;
00207             remainder -= intRequest;
00208 
00209             <font class="comment">// Check duration</font>
00210             <font class="keywordflow">if</font> (mDurationMax)
00211             {
00212                 <a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1RingEmittern22">mDurationRemain</a> -= timeElapsed;
00213                 <font class="keywordflow">if</font> (<a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1RingEmittern22">mDurationRemain</a> &lt;= 0) 
00214                 {
00215                     <font class="comment">// Disable, duration is out (takes effect next time)</font>
00216                     <a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1RingEmittera46">setEnabled</a>(<font class="keyword">false</font>);
00217                 }
00218             }
00219             <font class="keywordflow">return</font> intRequest;
00220         }
00221         <font class="keywordflow">else</font>
00222         {
00223             <font class="comment">// Check repeat</font>
00224             <font class="keywordflow">if</font> (mRepeatDelayMax)
00225             {
00226                 <a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1RingEmittern25">mRepeatDelayRemain</a> -= timeElapsed;
00227                 <font class="keywordflow">if</font> (<a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1RingEmittern25">mRepeatDelayRemain</a> &lt;= 0)
00228                 {
00229                     <font class="comment">// Enable, repeat delay is out (takes effect next time)</font>
00230                     <a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1RingEmittera46">setEnabled</a>(<font class="keyword">true</font>);
00231                 }
00232             }
00233             <font class="keywordflow">return</font> 0;
00234         }
00235 
00236     }
00237     <font class="comment">//-----------------------------------------------------------------------</font>
<a name="l00238"></a><a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1RingEmitterb5">00238</a>     <font class="keywordtype">void</font> ParticleEmitter::genEmissionColour(<a class="code" href="classOgre_1_1ColourValue.html">ColourValue</a>&amp; destColour)
00239     {
00240         <font class="keywordflow">if</font> (<a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1RingEmittern16">mColourRangeStart</a> != <a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1RingEmittern17">mColourRangeEnd</a>)
00241         {
00242             <font class="comment">// Randomise</font>
00243             <font class="comment">//Real t = Math::UnitRandom();</font>
00244             destColour.<a class="code" href="classOgre_1_1ColourValue.html#Ogre_1_1ColourValuem0">r</a> = <a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1RingEmittern16">mColourRangeStart</a>.<a class="code" href="classOgre_1_1ColourValue.html#Ogre_1_1ColourValuem0">r</a> + (Math::UnitRandom() * (<a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1RingEmittern17">mColourRangeEnd</a>.<a class="code" href="classOgre_1_1ColourValue.html#Ogre_1_1ColourValuem0">r</a> - <a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1RingEmittern16">mColourRangeStart</a>.<a class="code" href="classOgre_1_1ColourValue.html#Ogre_1_1ColourValuem0">r</a>));
00245             destColour.<a class="code" href="classOgre_1_1ColourValue.html#Ogre_1_1ColourValuem1">g</a> = <a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1RingEmittern16">mColourRangeStart</a>.<a class="code" href="classOgre_1_1ColourValue.html#Ogre_1_1ColourValuem1">g</a> + (Math::UnitRandom() * (<a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1RingEmittern17">mColourRangeEnd</a>.<a class="code" href="classOgre_1_1ColourValue.html#Ogre_1_1ColourValuem1">g</a> - <a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1RingEmittern16">mColourRangeStart</a>.<a class="code" href="classOgre_1_1ColourValue.html#Ogre_1_1ColourValuem1">g</a>));
00246             destColour.<a class="code" href="classOgre_1_1ColourValue.html#Ogre_1_1ColourValuem2">b</a> = <a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1RingEmittern16">mColourRangeStart</a>.<a class="code" href="classOgre_1_1ColourValue.html#Ogre_1_1ColourValuem2">b</a> + (Math::UnitRandom() * (<a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1RingEmittern17">mColourRangeEnd</a>.<a class="code" href="classOgre_1_1ColourValue.html#Ogre_1_1ColourValuem2">b</a> - <a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1RingEmittern16">mColourRangeStart</a>.<a class="code" href="classOgre_1_1ColourValue.html#Ogre_1_1ColourValuem2">b</a>));
00247             destColour.<a class="code" href="classOgre_1_1ColourValue.html#Ogre_1_1ColourValuem3">a</a> = <a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1RingEmittern16">mColourRangeStart</a>.<a class="code" href="classOgre_1_1ColourValue.html#Ogre_1_1ColourValuem3">a</a> + (Math::UnitRandom() * (<a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1RingEmittern17">mColourRangeEnd</a>.<a class="code" href="classOgre_1_1ColourValue.html#Ogre_1_1ColourValuem3">a</a> - <a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1RingEmittern16">mColourRangeStart</a>.<a class="code" href="classOgre_1_1ColourValue.html#Ogre_1_1ColourValuem3">a</a>));
00248         }
00249         <font class="keywordflow">else</font>
00250         {
00251             destColour = <a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1RingEmittern16">mColourRangeStart</a>;
00252         }
00253     }
00254     <font class="comment">//-----------------------------------------------------------------------</font>
<a name="l00255"></a><a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1RingEmitterb7">00255</a>     <font class="keywordtype">void</font> ParticleEmitter::addBaseParameters(<font class="keywordtype">void</font>)    
00256     {
00257         <a class="code" href="classOgre_1_1ParamDictionary.html">ParamDictionary</a>* dict = <a class="code" href="classOgre_1_1StringInterface.html#Ogre_1_1StringInterfacea1">getParamDictionary</a>();
00258 
00259         dict-&gt;<a class="code" href="classOgre_1_1ParamDictionary.html#Ogre_1_1ParamDictionarya1">addParameter</a>(<a class="code" href="classOgre_1_1ParameterDef.html">ParameterDef</a>(<font class="stringliteral">"angle"</font>, 
00260             <font class="stringliteral">"The angle up to which particles may vary in their initial direction "</font>
00261             <font class="stringliteral">"from the emitters direction, in degrees."</font> , <a class="code" href="namespaceOgre.html#a443a325">PT_REAL</a>),
00262             &amp;<a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1RingEmitterq5">msAngleCmd</a>);
00263 
00264         dict-&gt;<a class="code" href="classOgre_1_1ParamDictionary.html#Ogre_1_1ParamDictionarya1">addParameter</a>(<a class="code" href="classOgre_1_1ParameterDef.html">ParameterDef</a>(<font class="stringliteral">"colour"</font>, 
00265             <font class="stringliteral">"The colour of emitted particles."</font>, <a class="code" href="namespaceOgre.html#a443a337">PT_COLOURVALUE</a>),
00266             &amp;<a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1RingEmitterq6">msColourCmd</a>);
00267 
00268         dict-&gt;<a class="code" href="classOgre_1_1ParamDictionary.html#Ogre_1_1ParamDictionarya1">addParameter</a>(<a class="code" href="classOgre_1_1ParameterDef.html">ParameterDef</a>(<font class="stringliteral">"colour_range_start"</font>, 
00269             <font class="stringliteral">"The start of a range of colours to be assigned to emitted particles."</font>, <a class="code" href="namespaceOgre.html#a443a337">PT_COLOURVALUE</a>),
00270             &amp;<a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1RingEmitterq7">msColourRangeStartCmd</a>);
00271 
00272         dict-&gt;<a class="code" href="classOgre_1_1ParamDictionary.html#Ogre_1_1ParamDictionarya1">addParameter</a>(<a class="code" href="classOgre_1_1ParameterDef.html">ParameterDef</a>(<font class="stringliteral">"colour_range_end"</font>, 
00273             <font class="stringliteral">"The end of a range of colours to be assigned to emitted particles."</font>, <a class="code" href="namespaceOgre.html#a443a337">PT_COLOURVALUE</a>),
00274             &amp;<a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1RingEmitterq8">msColourRangeEndCmd</a>);
00275 
00276         dict-&gt;<a class="code" href="classOgre_1_1ParamDictionary.html#Ogre_1_1ParamDictionarya1">addParameter</a>(<a class="code" href="classOgre_1_1ParameterDef.html">ParameterDef</a>(<font class="stringliteral">"direction"</font>, 
00277             <font class="stringliteral">"The base direction of the emitter."</font> , <a class="code" href="namespaceOgre.html#a443a333">PT_VECTOR3</a>),
00278             &amp;<a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1RingEmitterq9">msDirectionCmd</a>);
00279 
00280         dict-&gt;<a class="code" href="classOgre_1_1ParamDictionary.html#Ogre_1_1ParamDictionarya1">addParameter</a>(<a class="code" href="classOgre_1_1ParameterDef.html">ParameterDef</a>(<font class="stringliteral">"emission_rate"</font>, 
00281             <font class="stringliteral">"The number of particles emitted per second."</font> , <a class="code" href="namespaceOgre.html#a443a325">PT_REAL</a>),
00282             &amp;<a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1RingEmitterq10">msEmissionRateCmd</a>);
00283 
00284         dict-&gt;<a class="code" href="classOgre_1_1ParamDictionary.html#Ogre_1_1ParamDictionarya1">addParameter</a>(<a class="code" href="classOgre_1_1ParameterDef.html">ParameterDef</a>(<font class="stringliteral">"position"</font>, 
00285             <font class="stringliteral">"The position of the emitter relative to the particle system center."</font> , <a class="code" href="namespaceOgre.html#a443a333">PT_VECTOR3</a>),
00286             &amp;<a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1RingEmitterq15">msPositionCmd</a>);
00287 
00288         dict-&gt;<a class="code" href="classOgre_1_1ParamDictionary.html#Ogre_1_1ParamDictionarya1">addParameter</a>(<a class="code" href="classOgre_1_1ParameterDef.html">ParameterDef</a>(<font class="stringliteral">"velocity"</font>, 
00289             <font class="stringliteral">"The initial velocity to be assigned to every particle, in world units per second."</font> , <a class="code" href="namespaceOgre.html#a443a325">PT_REAL</a>),
00290             &amp;<a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1RingEmitterq17">msVelocityCmd</a>);
00291 
00292         dict-&gt;<a class="code" href="classOgre_1_1ParamDictionary.html#Ogre_1_1ParamDictionarya1">addParameter</a>(<a class="code" href="classOgre_1_1ParameterDef.html">ParameterDef</a>(<font class="stringliteral">"velocity_min"</font>, 
00293             <font class="stringliteral">"The minimum initial velocity to be assigned to each particle."</font> , <a class="code" href="namespaceOgre.html#a443a325">PT_REAL</a>),
00294             &amp;<a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1RingEmitterq14">msMinVelocityCmd</a>);
00295 
00296         dict-&gt;<a class="code" href="classOgre_1_1ParamDictionary.html#Ogre_1_1ParamDictionarya1">addParameter</a>(<a class="code" href="classOgre_1_1ParameterDef.html">ParameterDef</a>(<font class="stringliteral">"velocity_max"</font>, 
00297             <font class="stringliteral">"The maximum initial velocity to be assigned to each particle."</font> , <a class="code" href="namespaceOgre.html#a443a325">PT_REAL</a>),
00298             &amp;<a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1RingEmitterq12">msMaxVelocityCmd</a>);
00299 
00300         dict-&gt;<a class="code" href="classOgre_1_1ParamDictionary.html#Ogre_1_1ParamDictionarya1">addParameter</a>(<a class="code" href="classOgre_1_1ParameterDef.html">ParameterDef</a>(<font class="stringliteral">"time_to_live"</font>, 
00301             <font class="stringliteral">"The lifetime of each particle in seconds."</font> , <a class="code" href="namespaceOgre.html#a443a325">PT_REAL</a>),
00302             &amp;<a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1RingEmitterq16">msTTLCmd</a>);
00303 
00304         dict-&gt;<a class="code" href="classOgre_1_1ParamDictionary.html#Ogre_1_1ParamDictionarya1">addParameter</a>(<a class="code" href="classOgre_1_1ParameterDef.html">ParameterDef</a>(<font class="stringliteral">"time_to_live_min"</font>, 
00305             <font class="stringliteral">"The minimum lifetime of each particle in seconds."</font> , <a class="code" href="namespaceOgre.html#a443a325">PT_REAL</a>),
00306             &amp;<a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1RingEmitterq13">msMinTTLCmd</a>);
00307 
00308         dict-&gt;<a class="code" href="classOgre_1_1ParamDictionary.html#Ogre_1_1ParamDictionarya1">addParameter</a>(<a class="code" href="classOgre_1_1ParameterDef.html">ParameterDef</a>(<font class="stringliteral">"time_to_live_max"</font>, 
00309             <font class="stringliteral">"The maximum lifetime of each particle in seconds."</font> , <a class="code" href="namespaceOgre.html#a443a325">PT_REAL</a>),
00310             &amp;<a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1RingEmitterq11">msMaxTTLCmd</a>);
00311 
00312         dict-&gt;<a class="code" href="classOgre_1_1ParamDictionary.html#Ogre_1_1ParamDictionarya1">addParameter</a>(<a class="code" href="classOgre_1_1ParameterDef.html">ParameterDef</a>(<font class="stringliteral">"duration"</font>, 
00313             <font class="stringliteral">"The length of time in seconds which an emitter stays enabled for."</font> , <a class="code" href="namespaceOgre.html#a443a325">PT_REAL</a>),
00314             &amp;<a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1RingEmitterq18">msDurationCmd</a>);
00315 
00316         dict-&gt;<a class="code" href="classOgre_1_1ParamDictionary.html#Ogre_1_1ParamDictionarya1">addParameter</a>(<a class="code" href="classOgre_1_1ParameterDef.html">ParameterDef</a>(<font class="stringliteral">"duration_min"</font>, 
00317             <font class="stringliteral">"The minimum length of time in seconds which an emitter stays enabled for."</font> , <a class="code" href="namespaceOgre.html#a443a325">PT_REAL</a>),
00318             &amp;<a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1RingEmitterq19">msMinDurationCmd</a>);
00319 
00320         dict-&gt;<a class="code" href="classOgre_1_1ParamDictionary.html#Ogre_1_1ParamDictionarya1">addParameter</a>(<a class="code" href="classOgre_1_1ParameterDef.html">ParameterDef</a>(<font class="stringliteral">"duration_max"</font>, 
00321             <font class="stringliteral">"The maximum length of time in seconds which an emitter stays enabled for."</font> , <a class="code" href="namespaceOgre.html#a443a325">PT_REAL</a>),
00322             &amp;<a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1RingEmitterq20">msMaxDurationCmd</a>);
00323 
00324         dict-&gt;<a class="code" href="classOgre_1_1ParamDictionary.html#Ogre_1_1ParamDictionarya1">addParameter</a>(<a class="code" href="classOgre_1_1ParameterDef.html">ParameterDef</a>(<font class="stringliteral">"repeat_delay"</font>, 
00325             <font class="stringliteral">"If set, after disabling an emitter will repeat (reenable) after this many seconds."</font> , <a class="code" href="namespaceOgre.html#a443a325">PT_REAL</a>),
00326             &amp;<a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1RingEmitterq21">msRepeatDelayCmd</a>);
00327 
00328         dict-&gt;<a class="code" href="classOgre_1_1ParamDictionary.html#Ogre_1_1ParamDictionarya1">addParameter</a>(<a class="code" href="classOgre_1_1ParameterDef.html">ParameterDef</a>(<font class="stringliteral">"repeat_delay_min"</font>, 
00329             <font class="stringliteral">"If set, after disabling an emitter will repeat (reenable) after this minimum number of seconds."</font> , <a class="code" href="namespaceOgre.html#a443a325">PT_REAL</a>),
00330             &amp;<a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1RingEmitterq22">msMinRepeatDelayCmd</a>);
00331 
00332         dict-&gt;<a class="code" href="classOgre_1_1ParamDictionary.html#Ogre_1_1ParamDictionarya1">addParameter</a>(<a class="code" href="classOgre_1_1ParameterDef.html">ParameterDef</a>(<font class="stringliteral">"repeat_delay_max"</font>, 
00333             <font class="stringliteral">"If set, after disabling an emitter will repeat (reenable) after this maximum number of seconds."</font> , <a class="code" href="namespaceOgre.html#a443a325">PT_REAL</a>),
00334             &amp;<a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1RingEmitterq23">msMaxRepeatDelayCmd</a>);
00335     }
00336     <font class="comment">//-----------------------------------------------------------------------</font>
<a name="l00337"></a><a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1RingEmittera26">00337</a>     <a class="code" href="namespaceOgre.html#a281">Real</a> ParticleEmitter::getParticleVelocity(<font class="keywordtype">void</font>)
00338     {
00339         <font class="keywordflow">return</font> <a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1RingEmittern12">mMinSpeed</a>;
00340     }
00341     <font class="comment">//-----------------------------------------------------------------------</font>
<a name="l00342"></a><a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1RingEmittera27">00342</a>     <a class="code" href="namespaceOgre.html#a281">Real</a> ParticleEmitter::getMinParticleVelocity(<font class="keywordtype">void</font>)
00343     {
00344         <font class="keywordflow">return</font> <a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1RingEmittern12">mMinSpeed</a>;
00345     }
00346     <font class="comment">//-----------------------------------------------------------------------</font>
<a name="l00347"></a><a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1RingEmittera28">00347</a>     <a class="code" href="namespaceOgre.html#a281">Real</a> ParticleEmitter::getMaxParticleVelocity(<font class="keywordtype">void</font>)
00348     {
00349         <font class="keywordflow">return</font> <a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1RingEmittern13">mMaxSpeed</a>;
00350     }
00351     <font class="comment">//-----------------------------------------------------------------------</font>
<a name="l00352"></a><a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1RingEmittera24">00352</a>     <font class="keywordtype">void</font> ParticleEmitter::setMinParticleVelocity(<a class="code" href="namespaceOgre.html#a281">Real</a> min)
00353     {
00354         <a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1RingEmittern12">mMinSpeed</a> = min;
00355     }
00356     <font class="comment">//-----------------------------------------------------------------------</font>
<a name="l00357"></a><a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1RingEmittera25">00357</a>     <font class="keywordtype">void</font> ParticleEmitter::setMaxParticleVelocity(<a class="code" href="namespaceOgre.html#a281">Real</a> max)
00358     {
00359         <a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1RingEmittern13">mMaxSpeed</a> = max;
00360     }
00361     <font class="comment">//-----------------------------------------------------------------------</font>
<a name="l00362"></a><a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1RingEmittera35">00362</a>     <a class="code" href="namespaceOgre.html#a281">Real</a> ParticleEmitter::getTimeToLive(<font class="keywordtype">void</font>)
00363     {
00364         <font class="keywordflow">return</font> <a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1RingEmittern14">mMinTTL</a>;
00365     }
00366     <font class="comment">//-----------------------------------------------------------------------</font>
<a name="l00367"></a><a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1RingEmittera36">00367</a>     <a class="code" href="namespaceOgre.html#a281">Real</a> ParticleEmitter::getMinTimeToLive(<font class="keywordtype">void</font>)
00368     {
00369         <font class="keywordflow">return</font> <a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1RingEmittern14">mMinTTL</a>;
00370     }
00371     <font class="comment">//-----------------------------------------------------------------------</font>
<a name="l00372"></a><a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1RingEmittera37">00372</a>     <a class="code" href="namespaceOgre.html#a281">Real</a> ParticleEmitter::getMaxTimeToLive(<font class="keywordtype">void</font>)
00373     {
00374         <font class="keywordflow">return</font> <a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1RingEmittern15">mMaxTTL</a>;
00375     }
00376     <font class="comment">//-----------------------------------------------------------------------</font>
<a name="l00377"></a><a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1RingEmittera33">00377</a>     <font class="keywordtype">void</font> ParticleEmitter::setMinTimeToLive(<a class="code" href="namespaceOgre.html#a281">Real</a> min)
00378     {
00379         <a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1RingEmittern14">mMinTTL</a> = min;
00380     }
00381     <font class="comment">//-----------------------------------------------------------------------</font>
<a name="l00382"></a><a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1RingEmittera34">00382</a>     <font class="keywordtype">void</font> ParticleEmitter::setMaxTimeToLive(<a class="code" href="namespaceOgre.html#a281">Real</a> max)
00383     {
00384         <a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1RingEmittern15">mMaxTTL</a> = max;
00385     }
00386     <font class="comment">//-----------------------------------------------------------------------</font>
<a name="l00387"></a><a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1RingEmittera42">00387</a>     <a class="code" href="classOgre_1_1ColourValue.html">ColourValue</a> ParticleEmitter::getColour(<font class="keywordtype">void</font>)
00388     {
00389         <font class="keywordflow">return</font> <a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1RingEmittern16">mColourRangeStart</a>;
00390     }
00391     <font class="comment">//-----------------------------------------------------------------------</font>
<a name="l00392"></a><a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1RingEmittera43">00392</a>     <a class="code" href="classOgre_1_1ColourValue.html">ColourValue</a> ParticleEmitter::getColourRangeStart(<font class="keywordtype">void</font>)
00393     {
00394         <font class="keywordflow">return</font> <a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1RingEmittern16">mColourRangeStart</a>;
00395     }
00396     <font class="comment">//-----------------------------------------------------------------------</font>
<a name="l00397"></a><a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1RingEmittera44">00397</a>     <a class="code" href="classOgre_1_1ColourValue.html">ColourValue</a> ParticleEmitter::getColourRangeEnd(<font class="keywordtype">void</font>)
00398     {
00399         <font class="keywordflow">return</font> <a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1RingEmittern17">mColourRangeEnd</a>;
00400     }
00401     <font class="comment">//-----------------------------------------------------------------------</font>
<a name="l00402"></a><a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1RingEmittera40">00402</a>     <font class="keywordtype">void</font> ParticleEmitter::setColourRangeStart(<font class="keyword">const</font> <a class="code" href="classOgre_1_1ColourValue.html">ColourValue</a>&amp; val)
00403     {
00404         <a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1RingEmittern16">mColourRangeStart</a> = val;
00405     }
00406     <font class="comment">//-----------------------------------------------------------------------</font>
<a name="l00407"></a><a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1RingEmittera41">00407</a>     <font class="keywordtype">void</font> ParticleEmitter::setColourRangeEnd(<font class="keyword">const</font> <a class="code" href="classOgre_1_1ColourValue.html">ColourValue</a>&amp; val )
00408     {
00409         <a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1RingEmittern17">mColourRangeEnd</a> = val;
00410     }
00411     <font class="comment">//-----------------------------------------------------------------------</font>
<a name="l00412"></a><a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1RingEmittera46">00412</a>     <font class="keywordtype">void</font> ParticleEmitter::setEnabled(<font class="keywordtype">bool</font> enabled)
00413     {
00414         <a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1RingEmittern18">mEnabled</a> = enabled;
00415         <font class="keywordflow">if</font> (enabled)
00416         {
00417             <font class="comment">// Reset duration </font>
00418             <font class="keywordflow">if</font> (<a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1RingEmittern20">mDurationMin</a> == <a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1RingEmittern21">mDurationMax</a>)
00419             {
00420                 <a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1RingEmittern22">mDurationRemain</a> = <a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1RingEmittern20">mDurationMin</a>;
00421             }
00422             <font class="keywordflow">else</font>
00423             {
00424                 <a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1RingEmittern22">mDurationRemain</a> = Math::UnitRandom() * (<a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1RingEmittern21">mDurationMax</a> - <a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1RingEmittern20">mDurationMin</a>);
00425             }
00426         }
00427         <font class="keywordflow">else</font>
00428         {
00429             <font class="comment">// Reset repeat</font>
00430             <font class="keywordflow">if</font> (<a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1RingEmittern23">mRepeatDelayMin</a> == <a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1RingEmittern24">mRepeatDelayMax</a>)
00431             {
00432                 <a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1RingEmittern25">mRepeatDelayRemain</a> = <a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1RingEmittern23">mRepeatDelayMin</a>;
00433             }
00434             <font class="keywordflow">else</font>
00435             {
00436                 <a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1RingEmittern25">mRepeatDelayRemain</a> = Math::UnitRandom() * (<a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1RingEmittern24">mRepeatDelayMax</a> - <a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1RingEmittern23">mRepeatDelayMin</a>);
00437             }
00438 
00439         }
00440     }
00441     <font class="comment">//-----------------------------------------------------------------------</font>
<a name="l00442"></a><a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1RingEmittera47">00442</a>     <font class="keywordtype">bool</font> ParticleEmitter::getEnabled(<font class="keywordtype">void</font>)
00443     {
00444         <font class="keywordflow">return</font> <a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1RingEmittern18">mEnabled</a>;
00445     }
00446     <font class="comment">//-----------------------------------------------------------------------</font>
<a name="l00447"></a><a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1RingEmittera48">00447</a>     <font class="keywordtype">void</font> ParticleEmitter::setStartTime(<a class="code" href="namespaceOgre.html#a281">Real</a> startTime)
00448     {
00449         <a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1RingEmittern19">mStartTime</a> = startTime;
00450     }
00451     <font class="comment">//-----------------------------------------------------------------------</font>
<a name="l00452"></a><a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1RingEmittera49">00452</a>     <a class="code" href="namespaceOgre.html#a281">Real</a> ParticleEmitter::getStartTime(<font class="keywordtype">void</font>)
00453     {
00454         <font class="keywordflow">return</font> <a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1RingEmittern19">mStartTime</a>;
00455     }
00456     <font class="comment">//-----------------------------------------------------------------------</font>
<a name="l00457"></a><a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1RingEmittera50">00457</a>     <font class="keywordtype">void</font> ParticleEmitter::setDuration(<a class="code" href="namespaceOgre.html#a281">Real</a> duration)
00458     {
00459         <a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1RingEmittern20">mDurationMin</a> = <a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1RingEmittern21">mDurationMax</a> = duration;
00460     }
00461     <font class="comment">//-----------------------------------------------------------------------</font>
<a name="l00462"></a><a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1RingEmittera52">00462</a>     <a class="code" href="namespaceOgre.html#a281">Real</a> ParticleEmitter::getDuration(<font class="keywordtype">void</font>)
00463     {
00464         <font class="keywordflow">return</font> <a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1RingEmittern20">mDurationMin</a>;
00465     }
00466     <font class="comment">//-----------------------------------------------------------------------</font>
<a name="l00467"></a><a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1RingEmittera51">00467</a>     <font class="keywordtype">void</font> ParticleEmitter::setDuration(<a class="code" href="namespaceOgre.html#a281">Real</a> min, <a class="code" href="namespaceOgre.html#a281">Real</a> max)
00468     {
00469         <a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1RingEmittern20">mDurationMin</a> = min;
00470         <a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1RingEmittern21">mDurationMax</a> = max;
00471     }
00472     <font class="comment">//-----------------------------------------------------------------------</font>
<a name="l00473"></a><a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1RingEmittera53">00473</a>     <font class="keywordtype">void</font> ParticleEmitter::setMinDuration(<a class="code" href="namespaceOgre.html#a281">Real</a> min)
00474     {
00475         <a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1RingEmittern20">mDurationMin</a> = min;
00476     }
00477     <font class="comment">//-----------------------------------------------------------------------</font>
<a name="l00478"></a><a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1RingEmittera54">00478</a>     <font class="keywordtype">void</font> ParticleEmitter::setMaxDuration(<a class="code" href="namespaceOgre.html#a281">Real</a> max)
00479     {
00480         <a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1RingEmittern21">mDurationMax</a> = max;
00481     }
00482     <font class="comment">//-----------------------------------------------------------------------</font>
<a name="l00483"></a><a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1RingEmittera57">00483</a>     <font class="keywordtype">void</font> ParticleEmitter::setRepeatDelay(<a class="code" href="namespaceOgre.html#a281">Real</a> delay)
00484     {
00485         <a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1RingEmittern23">mRepeatDelayMin</a> = <a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1RingEmittern24">mRepeatDelayMax</a> = delay;
00486     }
00487     <font class="comment">//-----------------------------------------------------------------------</font>
<a name="l00488"></a><a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1RingEmittera59">00488</a>     <a class="code" href="namespaceOgre.html#a281">Real</a> ParticleEmitter::getRepeatDelay(<font class="keywordtype">void</font>)
00489     {
00490         <font class="keywordflow">return</font> <a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1RingEmittern23">mRepeatDelayMin</a>;
00491     }
00492     <font class="comment">//-----------------------------------------------------------------------</font>
<a name="l00493"></a><a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1RingEmittera58">00493</a>     <font class="keywordtype">void</font> ParticleEmitter::setRepeatDelay(<a class="code" href="namespaceOgre.html#a281">Real</a> min, <a class="code" href="namespaceOgre.html#a281">Real</a> max)
00494     {
00495         <a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1RingEmittern23">mRepeatDelayMin</a> = min;
00496         <a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1RingEmittern24">mRepeatDelayMax</a> = max;
00497     }
00498     <font class="comment">//-----------------------------------------------------------------------</font>
<a name="l00499"></a><a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1RingEmittera60">00499</a>     <font class="keywordtype">void</font> ParticleEmitter::setMinRepeatDelay(<a class="code" href="namespaceOgre.html#a281">Real</a> min)
00500     {
00501         <a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1RingEmittern23">mRepeatDelayMin</a> = min;
00502     }
00503     <font class="comment">//-----------------------------------------------------------------------</font>
<a name="l00504"></a><a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1RingEmittera61">00504</a>     <font class="keywordtype">void</font> ParticleEmitter::setMaxRepeatDelay(<a class="code" href="namespaceOgre.html#a281">Real</a> max)
00505     {
00506         <a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1RingEmittern24">mRepeatDelayMax</a> = max;
00507     }
00508     <font class="comment">//-----------------------------------------------------------------------</font>
<a name="l00509"></a><a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1RingEmittera55">00509</a>     <a class="code" href="namespaceOgre.html#a281">Real</a> ParticleEmitter::getMinDuration(<font class="keywordtype">void</font>)
00510     {
00511         <font class="keywordflow">return</font> <a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1RingEmittern20">mDurationMin</a>;
00512     }
00513     <font class="comment">//-----------------------------------------------------------------------</font>
<a name="l00514"></a><a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1RingEmittera56">00514</a>     <a class="code" href="namespaceOgre.html#a281">Real</a> ParticleEmitter::getMaxDuration(<font class="keywordtype">void</font>)
00515     {
00516         <font class="keywordflow">return</font> <a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1RingEmittern21">mDurationMax</a>;
00517     }
00518     <font class="comment">//-----------------------------------------------------------------------</font>
<a name="l00519"></a><a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1RingEmittera62">00519</a>     <a class="code" href="namespaceOgre.html#a281">Real</a> ParticleEmitter::getMinRepeatDelay(<font class="keywordtype">void</font>)
00520     {
00521         <font class="keywordflow">return</font> <a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1RingEmittern23">mRepeatDelayMin</a>;    
00522     }
00523     <font class="comment">//-----------------------------------------------------------------------</font>
<a name="l00524"></a><a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1RingEmittera63">00524</a>     <a class="code" href="namespaceOgre.html#a281">Real</a> ParticleEmitter::getMaxRepeatDelay(<font class="keywordtype">void</font>)
00525     {
00526         <font class="keywordflow">return</font> <a class="code" href="classOgre_1_1ParticleEmitter.html#Ogre_1_1RingEmittern24">mRepeatDelayMax</a>;    
00527     }
00528 
00529     <font class="comment">//-----------------------------------------------------------------------</font>
00530     <font class="comment">//-----------------------------------------------------------------------</font>
00531     <font class="comment">//-----------------------------------------------------------------------</font>
00532 
00533 }
00534 
</pre></div><p>
Copyright &copy; 2002 by The OGRE Team<br />
<script type="text/javascript">
<!--//hide script from old browsers
document.write( "Last modified "+ document.lastModified );
//end hiding contents -->
</script>
</p>
</body>
</html>
