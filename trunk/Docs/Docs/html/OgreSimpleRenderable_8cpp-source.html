<html>
<head>
<title>OGRE Documentation</title> <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"> 
<link type="text/css" rel="stylesheet" href="style.css">
</head>

<body>
<!-- Generated by Doxygen 1.2.16 -->
<center>
<a class="qindex" href="index.html">Main Page</a> &nbsp; <a class="qindex" href="namespaces.html">Namespace List</a> &nbsp; <a class="qindex" href="hierarchy.html">Class Hierarchy</a> &nbsp; <a class="qindex" href="classes.html">Alphabetical List</a> &nbsp; <a class="qindex" href="annotated.html">Compound List</a> &nbsp; <a class="qindex" href="files.html">File List</a> &nbsp; <a class="qindex" href="namespacemembers.html">Namespace Members</a> &nbsp; <a class="qindex" href="functions.html">Compound Members</a> &nbsp; <a class="qindex" href="globals.html">File Members</a> &nbsp; <a class="qindex" href="pages.html">Related Pages</a> &nbsp; </center>
<hr><h1>OgreSimpleRenderable.cpp</h1><a href="OgreSimpleRenderable_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><pre>00001 <font class="preprocessor">#include "<a class="code" href="OgreSimpleRenderable_8h.html">OgreSimpleRenderable.h</a>"</font>
00002 
00003 <font class="preprocessor">#include "<a class="code" href="OgreMaterialManager_8h.html">OgreMaterialManager.h</a>"</font>
00004 
00005 <font class="keyword">namespace </font>Ogre {
00006 
<a name="l00007"></a><a class="code" href="classOgre_1_1SimpleRenderable.html#Ogre_1_1SimpleRenderableq0">00007</a>     <font class="keywordtype">int</font> SimpleRenderable::msGenNameCount = 0;
<a name="l00008"></a><a class="code" href="classOgre_1_1SimpleRenderable.html#Ogre_1_1SimpleRenderableq1">00008</a>     <a class="code" href="classOgre_1_1String.html">String</a> SimpleRenderable::msMovableType = <font class="stringliteral">"SimpleRenderable"</font>;
00009 
00010     <font class="comment">// These are to quickly set the RO's properties</font>
<a name="l00011"></a><a class="code" href="classOgre_1_1SimpleRenderable.html#Ogre_1_1SimpleRenderablea1">00011</a>     <a class="code" href="classOgre_1_1RenderOperation.html">RenderOperation</a>&amp; SimpleRenderable::getRO()
00012     {
00013         <font class="keywordflow">return</font> <a class="code" href="classOgre_1_1SimpleRenderable.html#Ogre_1_1SimpleRenderablen0">mRO</a>;
00014     }
00015 
<a name="l00016"></a><a class="code" href="classOgre_1_1SimpleRenderable.html#Ogre_1_1SimpleRenderablea2">00016</a>     <font class="keyword">const</font> <a class="code" href="classOgre_1_1RenderOperation.html">RenderOperation</a>&amp; SimpleRenderable::getRO()<font class="keyword"> const</font>
00017 <font class="keyword">    </font>{
00018         <font class="keywordflow">return</font> <a class="code" href="classOgre_1_1SimpleRenderable.html#Ogre_1_1SimpleRenderablen0">mRO</a>;
00019     }
00020 
<a name="l00021"></a><a class="code" href="classOgre_1_1SimpleRenderable.html#Ogre_1_1SimpleRenderablea3">00021</a>     <a class="code" href="namespaceOgre.html#a281">Real</a> **SimpleRenderable::getVertexCache()
00022     {
00023         <font class="keywordflow">return</font> &amp;<a class="code" href="classOgre_1_1SimpleRenderable.html#Ogre_1_1SimpleRenderablen5">m_pVertexCache</a>;
00024     }
00025 
<a name="l00026"></a><a class="code" href="classOgre_1_1SimpleRenderable.html#Ogre_1_1SimpleRenderablea4">00026</a>     <font class="keywordtype">unsigned</font> <font class="keywordtype">short</font> **SimpleRenderable::getIndexCache()
00027     {
00028         <font class="keywordflow">return</font> &amp;<a class="code" href="classOgre_1_1SimpleRenderable.html#Ogre_1_1SimpleRenderablen6">m_pIndexCache</a>;
00029     }
00030 
<a name="l00031"></a><a class="code" href="classOgre_1_1SimpleRenderable.html#Ogre_1_1SimpleRenderablea5">00031</a>     <a class="code" href="namespaceOgre.html#a281">Real</a> **SimpleRenderable::getNormalCache()
00032     {
00033         <font class="keywordflow">return</font> &amp;<a class="code" href="classOgre_1_1SimpleRenderable.html#Ogre_1_1SimpleRenderablen7">m_pNormalCache</a>;
00034     }
00035 
<a name="l00036"></a><a class="code" href="classOgre_1_1SimpleRenderable.html#Ogre_1_1SimpleRenderablea6">00036</a>     <a class="code" href="namespaceOgre.html#a63">RGBA</a> **SimpleRenderable::getDiffuseCache()
00037     {
00038         <font class="keywordflow">return</font> &amp;<a class="code" href="classOgre_1_1SimpleRenderable.html#Ogre_1_1SimpleRenderablen8">m_pDiffuseCache</a>;
00039     }
00040 
<a name="l00041"></a><a class="code" href="classOgre_1_1SimpleRenderable.html#Ogre_1_1SimpleRenderablea7">00041</a>     <a class="code" href="namespaceOgre.html#a63">RGBA</a> **SimpleRenderable::getSpecularCache()
00042     {
00043         <font class="keywordflow">return</font> &amp;<a class="code" href="classOgre_1_1SimpleRenderable.html#Ogre_1_1SimpleRenderablen9">m_pSpecularCache</a>;
00044     }
00045 
<a name="l00046"></a><a class="code" href="classOgre_1_1SimpleRenderable.html#Ogre_1_1SimpleRenderablea8">00046</a>     <a class="code" href="namespaceOgre.html#a281">Real</a> **SimpleRenderable::getTexCoordCcache( <font class="keywordtype">unsigned</font> <font class="keywordtype">short</font> cn )
00047     {
00048         assert( cn &lt; <a class="code" href="OgreConfig_8h.html#a5">OGRE_MAX_TEXTURE_COORD_SETS</a> );
00049 
00050         <font class="keywordflow">return</font> &amp;<a class="code" href="classOgre_1_1SimpleRenderable.html#Ogre_1_1SimpleRenderablen10">m_pTexCache</a>[cn];
00051     }
00052 
<a name="l00053"></a><a class="code" href="classOgre_1_1SimpleRenderable.html#Ogre_1_1SimpleRenderablea9">00053</a>     <font class="keywordtype">void</font> SimpleRenderable::setMaterial( <font class="keyword">const</font> <a class="code" href="classOgre_1_1String.html">String</a>&amp; matName )
00054     {
00055         <a class="code" href="classOgre_1_1SimpleRenderable.html#Ogre_1_1SimpleRenderablen3">m_strMatName</a> = matName;
00056         <a class="code" href="classOgre_1_1SimpleRenderable.html#Ogre_1_1SimpleRenderablen4">m_pMaterial</a> = reinterpret_cast&lt;Material*&gt;(
00057             MaterialManager::getSingleton().getByName( <a class="code" href="classOgre_1_1SimpleRenderable.html#Ogre_1_1SimpleRenderablen3">m_strMatName</a> ) );
00058     
00059         <font class="comment">// Won't load twice anyway</font>
00060         <a class="code" href="classOgre_1_1SimpleRenderable.html#Ogre_1_1SimpleRenderablen4">m_pMaterial</a>-&gt;<a class="code" href="classOgre_1_1Material.html#Ogre_1_1Materiala52">load</a>();
00061     }
00062 
<a name="l00063"></a><a class="code" href="classOgre_1_1SimpleRenderable.html#Ogre_1_1SimpleRenderablea10">00063</a>     <a class="code" href="classOgre_1_1Material.html">Material</a>* SimpleRenderable::getMaterial(<font class="keywordtype">void</font>)<font class="keyword"> const</font>
00064 <font class="keyword">    </font>{
00065         <font class="keywordflow">return</font> <a class="code" href="classOgre_1_1SimpleRenderable.html#Ogre_1_1SimpleRenderablen4">m_pMaterial</a>;
00066     }
00067 
<a name="l00068"></a><a class="code" href="classOgre_1_1SimpleRenderable.html#Ogre_1_1SimpleRenderablea11">00068</a>     <font class="keywordtype">void</font> SimpleRenderable::setRenderOperation( <font class="keyword">const</font> <a class="code" href="classOgre_1_1RenderOperation.html">RenderOperation</a>&amp; rend )
00069     {
00070         <a class="code" href="classOgre_1_1SimpleRenderable.html#Ogre_1_1SimpleRenderablen0">mRO</a> = rend;
00071     }
00072 
<a name="l00073"></a><a class="code" href="classOgre_1_1SimpleRenderable.html#Ogre_1_1SimpleRenderablea12">00073</a>     <font class="keywordtype">void</font> SimpleRenderable::getRenderOperation( <a class="code" href="classOgre_1_1RenderOperation.html">RenderOperation</a>&amp; rend )
00074     {
00075         rend = <a class="code" href="classOgre_1_1SimpleRenderable.html#Ogre_1_1SimpleRenderablen0">mRO</a>;
00076     }
00077 
<a name="l00078"></a><a class="code" href="classOgre_1_1SimpleRenderable.html#Ogre_1_1SimpleRenderablea13">00078</a>     <font class="keywordtype">void</font> SimpleRenderable::setWorldTransform( <font class="keyword">const</font> <a class="code" href="classOgre_1_1Matrix4.html">Matrix4</a>&amp; xform )
00079     {
00080         <a class="code" href="classOgre_1_1SimpleRenderable.html#Ogre_1_1SimpleRenderablen1">mWorldTransform</a> = xform;
00081     }
00082 
<a name="l00083"></a><a class="code" href="classOgre_1_1SimpleRenderable.html#Ogre_1_1SimpleRenderablea14">00083</a>     <font class="keywordtype">void</font> SimpleRenderable::getWorldTransforms( <a class="code" href="classOgre_1_1Matrix4.html">Matrix4</a>* xform )
00084     {
00085         *xform = <a class="code" href="classOgre_1_1MovableObject.html#Ogre_1_1SimpleRenderablen14">mParentNode</a>-&gt;<a class="code" href="classOgre_1_1Node.html#Ogre_1_1SceneNodea50">_getFullTransform</a>();
00086     }
00087 
<a name="l00088"></a><a class="code" href="classOgre_1_1SimpleRenderable.html#Ogre_1_1SimpleRenderablea15">00088</a>     <a class="code" href="classOgre_1_1SceneNode.html">SceneNode</a>* SimpleRenderable::getParentNode(<font class="keywordtype">void</font>)
00089     {
00090         <font class="keywordflow">return</font> <a class="code" href="classOgre_1_1MovableObject.html#Ogre_1_1SimpleRenderablen14">mParentNode</a>;
00091     }
00092 
<a name="l00093"></a><a class="code" href="classOgre_1_1SimpleRenderable.html#Ogre_1_1SimpleRenderablea16">00093</a>     <font class="keywordtype">void</font> SimpleRenderable::_notifyAttached( <a class="code" href="classOgre_1_1SceneNode.html">SceneNode</a>* parent )
00094     {
00095         <a class="code" href="classOgre_1_1MovableObject.html#Ogre_1_1SimpleRenderablen14">mParentNode</a> = parent;
00096     }
00097 
<a name="l00098"></a><a class="code" href="classOgre_1_1SimpleRenderable.html#Ogre_1_1SimpleRenderablea17">00098</a>     <font class="keywordtype">void</font> SimpleRenderable::_notifyCurrentCamera(<a class="code" href="classOgre_1_1Camera.html">Camera</a>* cam)
00099     {
00100         <a class="code" href="classOgre_1_1SimpleRenderable.html#Ogre_1_1SimpleRenderablen12">m_pCamera</a> = NULL;
00101     }
00102 
<a name="l00103"></a><a class="code" href="classOgre_1_1SimpleRenderable.html#Ogre_1_1SimpleRenderablea18">00103</a>     <a class="code" href="classOgre_1_1AxisAlignedBox.html">AxisAlignedBox</a>&amp; SimpleRenderable::getABB()
00104     {
00105         <font class="keywordflow">return</font> <a class="code" href="classOgre_1_1SimpleRenderable.html#Ogre_1_1SimpleRenderablen2">mAAB</a>;
00106     }
00107 
<a name="l00108"></a><a class="code" href="classOgre_1_1SimpleRenderable.html#Ogre_1_1SimpleRenderablea19">00108</a>     <font class="keyword">const</font> <a class="code" href="classOgre_1_1AxisAlignedBox.html">AxisAlignedBox</a>&amp; SimpleRenderable::getBoundingBox(<font class="keywordtype">void</font>)<font class="keyword"> const</font>
00109 <font class="keyword">    </font>{
00110         <font class="keywordflow">return</font> <a class="code" href="classOgre_1_1SimpleRenderable.html#Ogre_1_1SimpleRenderablen2">mAAB</a>;
00111     }
00112 
<a name="l00113"></a><a class="code" href="classOgre_1_1SimpleRenderable.html#Ogre_1_1SimpleRenderablea20">00113</a>     <font class="keywordtype">void</font> SimpleRenderable::_updateRenderQueue(<a class="code" href="classOgre_1_1RenderQueue.html">RenderQueue</a>* queue)
00114     {
00115         queue-&gt;<a class="code" href="classOgre_1_1RenderQueue.html#Ogre_1_1RenderQueuea1">addRenderable</a>( <font class="keyword">this</font> );
00116     }
00117 
<a name="l00118"></a><a class="code" href="classOgre_1_1SimpleRenderable.html#Ogre_1_1SimpleRenderablea21">00118</a>     SimpleRenderable::~SimpleRenderable()
00119     {
00120         <font class="keywordflow">if</font>( m_pVertexCache )
00121             <font class="keyword">delete</font>[] <a class="code" href="classOgre_1_1SimpleRenderable.html#Ogre_1_1SimpleRenderablen5">m_pVertexCache</a>;
00122 
00123         <font class="keywordflow">if</font>( m_pIndexCache )
00124             <font class="keyword">delete</font>[] <a class="code" href="classOgre_1_1SimpleRenderable.html#Ogre_1_1SimpleRenderablen6">m_pIndexCache</a>;
00125 
00126         <font class="keywordflow">if</font>( m_pNormalCache )
00127             <font class="keyword">delete</font>[] <a class="code" href="classOgre_1_1SimpleRenderable.html#Ogre_1_1SimpleRenderablen7">m_pNormalCache</a>;
00128 
00129         <font class="keywordflow">for</font>( <font class="keywordtype">int</font> i=0; i&lt;<a class="code" href="OgreConfig_8h.html#a5">OGRE_MAX_TEXTURE_COORD_SETS</a>; i++ )
00130             <font class="keywordflow">if</font>( <a class="code" href="classOgre_1_1SimpleRenderable.html#Ogre_1_1SimpleRenderablen10">m_pTexCache</a>[i] )
00131                 <font class="keyword">delete</font>[] <a class="code" href="classOgre_1_1SimpleRenderable.html#Ogre_1_1SimpleRenderablen10">m_pTexCache</a>[i];
00132 
00133         <font class="keywordflow">if</font>( m_pDiffuseCache )
00134             <font class="keyword">delete</font>[] <a class="code" href="classOgre_1_1SimpleRenderable.html#Ogre_1_1SimpleRenderablen8">m_pDiffuseCache</a>;
00135 
00136         <font class="keywordflow">if</font>( m_pSpecularCache )
00137             <font class="keyword">delete</font>[] <a class="code" href="classOgre_1_1SimpleRenderable.html#Ogre_1_1SimpleRenderablen9">m_pSpecularCache</a>;
00138     }
00139     <font class="comment">//-----------------------------------------------------------------------</font>
<a name="l00140"></a><a class="code" href="classOgre_1_1SimpleRenderable.html#Ogre_1_1SimpleRenderablea22">00140</a>     <a class="code" href="classOgre_1_1String.html">String</a> SimpleRenderable::getName(<font class="keywordtype">void</font>)
00141     {
00142         <font class="keywordflow">return</font> <a class="code" href="classOgre_1_1SimpleRenderable.html#Ogre_1_1SimpleRenderablen13">mName</a>;
00143     }
00144     <font class="comment">//-----------------------------------------------------------------------</font>
<a name="l00145"></a><a class="code" href="classOgre_1_1SimpleRenderable.html#Ogre_1_1SimpleRenderablea23">00145</a>     <a class="code" href="classOgre_1_1String.html">String</a> SimpleRenderable::getMovableType(<font class="keywordtype">void</font>)
00146     {
00147         <font class="keywordflow">return</font> <a class="code" href="classOgre_1_1SimpleRenderable.html#Ogre_1_1SimpleRenderableq1">msMovableType</a>;
00148     }
00149 
00150 }
</pre></div><p>
Copyright &copy; 2002 by The OGRE Team<br />
<script type="text/javascript">
<!--//hide script from old browsers
document.write( "Last modified "+ document.lastModified );
//end hiding contents -->
</script>
</p>
</body>
</html>
