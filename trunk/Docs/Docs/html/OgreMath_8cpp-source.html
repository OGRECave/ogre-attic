<html>
<head>
<title>OGRE Documentation</title> <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"> 
<link type="text/css" rel="stylesheet" href="style.css">
</head>

<body>
<!-- Generated by Doxygen 1.2.16 -->
<center>
<a class="qindex" href="index.html">Main Page</a> &nbsp; <a class="qindex" href="namespaces.html">Namespace List</a> &nbsp; <a class="qindex" href="hierarchy.html">Class Hierarchy</a> &nbsp; <a class="qindex" href="classes.html">Alphabetical List</a> &nbsp; <a class="qindex" href="annotated.html">Compound List</a> &nbsp; <a class="qindex" href="files.html">File List</a> &nbsp; <a class="qindex" href="namespacemembers.html">Namespace Members</a> &nbsp; <a class="qindex" href="functions.html">Compound Members</a> &nbsp; <a class="qindex" href="globals.html">File Members</a> &nbsp; <a class="qindex" href="pages.html">Related Pages</a> &nbsp; </center>
<hr><h1>OgreMath.cpp</h1><a href="OgreMath_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><pre>00001 <font class="comment">/*</font>
00002 <font class="comment">-----------------------------------------------------------------------------</font>
00003 <font class="comment">This source file is part of OGRE</font>
00004 <font class="comment">    (Object-oriented Graphics Rendering Engine)</font>
00005 <font class="comment">For the latest info, see http://www.stevestreeting.com/ogre/</font>
00006 <font class="comment"></font>
00007 <font class="comment">Copyright © 2000-2001 Steven J. Streeting</font>
00008 <font class="comment">Also see acknowledgements in Readme.html</font>
00009 <font class="comment"></font>
00010 <font class="comment">This program is free software; you can redistribute it and/or modify it under</font>
00011 <font class="comment">the terms of the GNU General Public License as published by the Free Software</font>
00012 <font class="comment">Foundation; either version 2 of the License, or (at your option) any later</font>
00013 <font class="comment">version.</font>
00014 <font class="comment"></font>
00015 <font class="comment">This program is distributed in the hope that it will be useful, but WITHOUT</font>
00016 <font class="comment">ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS</font>
00017 <font class="comment">FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.</font>
00018 <font class="comment"></font>
00019 <font class="comment">You should have received a copy of the GNU General Public License along with</font>
00020 <font class="comment">this program; if not, write to the Free Software Foundation, Inc., 59 Temple</font>
00021 <font class="comment">Place - Suite 330, Boston, MA 02111-1307, USA, or go to</font>
00022 <font class="comment">http://www.gnu.org/copyleft/gpl.html.</font>
00023 <font class="comment">-----------------------------------------------------------------------------</font>
00024 <font class="comment">*/</font>
00025 <font class="preprocessor">#include "<a class="code" href="OgreMath_8h.html">OgreMath.h</a>"</font>
00026 <font class="preprocessor">#include "asm_math.h"</font>
00027 
00028 <font class="keyword">namespace </font>Ogre
00029 {
<a name="l00030"></a><a class="code" href="classOgre_1_1Singleton.html#Ogre_1_1Singletonq0">00030</a>     <font class="keyword">template</font>&lt;&gt; <a class="code" href="classOgre_1_1Math.html">Math</a>* <a class="code" href="classOgre_1_1Singleton.html">Singleton&lt;Math&gt;</a>::ms_Singleton = 0;
00031 
<a name="l00032"></a><a class="code" href="classOgre_1_1Math.html#Ogre_1_1Mathp0">00032</a>     <font class="keyword">const</font> <a class="code" href="namespaceOgre.html#a281">Real</a> Math::POS_INFINITY = std::numeric_limits&lt;Real&gt;::infinity();
<a name="l00033"></a><a class="code" href="classOgre_1_1Math.html#Ogre_1_1Mathp1">00033</a>     <font class="keyword">const</font> <a class="code" href="namespaceOgre.html#a281">Real</a> Math::NEG_INFINITY = -std::numeric_limits&lt;Real&gt;::infinity();
<a name="l00034"></a><a class="code" href="classOgre_1_1Math.html#Ogre_1_1Mathp2">00034</a>     <font class="keyword">const</font> <a class="code" href="namespaceOgre.html#a281">Real</a> Math::PI = <a class="code" href="namespaceOgre.html#a281">Real</a>( 4.0 * atan( 1.0 ) );
<a name="l00035"></a><a class="code" href="classOgre_1_1Math.html#Ogre_1_1Mathp3">00035</a>     <font class="keyword">const</font> <a class="code" href="namespaceOgre.html#a281">Real</a> Math::TWO_PI = <a class="code" href="namespaceOgre.html#a281">Real</a>( 2.0 * PI );
<a name="l00036"></a><a class="code" href="classOgre_1_1Math.html#Ogre_1_1Mathp4">00036</a>     <font class="keyword">const</font> <a class="code" href="namespaceOgre.html#a281">Real</a> Math::HALF_PI = <a class="code" href="namespaceOgre.html#a281">Real</a>( 0.5 * PI );
00037 
<a name="l00038"></a><a class="code" href="classOgre_1_1Math.html#Ogre_1_1Mathq0">00038</a>     <font class="keywordtype">int</font> Math::mTrigTableSize;
00039 
<a name="l00040"></a><a class="code" href="classOgre_1_1Math.html#Ogre_1_1Mathq1">00040</a>     <a class="code" href="namespaceOgre.html#a281">Real</a>  Math::mTrigTableFactor;
<a name="l00041"></a><a class="code" href="classOgre_1_1Math.html#Ogre_1_1Mathq2">00041</a>     <a class="code" href="namespaceOgre.html#a281">Real</a> *Math::mSinTable = NULL;
<a name="l00042"></a><a class="code" href="classOgre_1_1Math.html#Ogre_1_1Mathq3">00042</a>     <a class="code" href="namespaceOgre.html#a281">Real</a> *Math::mTanTable = NULL;
00043 
00044     <font class="comment">//-----------------------------------------------------------------------</font>
<a name="l00045"></a><a class="code" href="classOgre_1_1Math.html#Ogre_1_1Matha0">00045</a>     Math::Math( <font class="keywordtype">unsigned</font> <font class="keywordtype">int</font> trigTableSize )
00046     {
00047         <a class="code" href="classOgre_1_1Math.html#Ogre_1_1Mathq0">mTrigTableSize</a> = trigTableSize;
00048         <a class="code" href="classOgre_1_1Math.html#Ogre_1_1Mathq1">mTrigTableFactor</a> = <a class="code" href="classOgre_1_1Math.html#Ogre_1_1Mathq0">mTrigTableSize</a> / Math::TWO_PI;
00049 
00050         <a class="code" href="classOgre_1_1Math.html#Ogre_1_1Mathq2">mSinTable</a> = <font class="keyword">new</font> <a class="code" href="namespaceOgre.html#a281">Real</a>[<a class="code" href="classOgre_1_1Math.html#Ogre_1_1Mathq0">mTrigTableSize</a>];
00051         <a class="code" href="classOgre_1_1Math.html#Ogre_1_1Mathq3">mTanTable</a> = <font class="keyword">new</font> <a class="code" href="namespaceOgre.html#a281">Real</a>[<a class="code" href="classOgre_1_1Math.html#Ogre_1_1Mathq0">mTrigTableSize</a>];
00052 
00053         <a class="code" href="classOgre_1_1Math.html#Ogre_1_1Mathb0">buildTrigTables</a>();
00054 
00055         <font class="comment">// Init random number generator</font>
00056         srand( (<font class="keywordtype">unsigned</font>)time(0) );
00057     }
00058 
00059     <font class="comment">//-----------------------------------------------------------------------</font>
<a name="l00060"></a><a class="code" href="classOgre_1_1Math.html#Ogre_1_1Matha1">00060</a>     Math::~Math()
00061     {
00062         <font class="keyword">delete</font> [] <a class="code" href="classOgre_1_1Math.html#Ogre_1_1Mathq2">mSinTable</a>;
00063         <font class="keyword">delete</font> [] <a class="code" href="classOgre_1_1Math.html#Ogre_1_1Mathq3">mTanTable</a>;
00064     }
00065 
00066     <font class="comment">//-----------------------------------------------------------------------</font>
<a name="l00067"></a><a class="code" href="classOgre_1_1Math.html#Ogre_1_1Mathb0">00067</a>     <font class="keywordtype">void</font> Math::buildTrigTables(<font class="keywordtype">void</font>)
00068     {
00069         <font class="comment">// Build trig lookup tables</font>
00070         <font class="comment">// Could get away with building only PI sized Sin table but simpler this </font>
00071         <font class="comment">// way. Who cares, it'll ony use an extra 8k of memory anyway and I like </font>
00072         <font class="comment">// simplicity.</font>
00073         <a class="code" href="namespaceOgre.html#a281">Real</a> angle;
00074         <font class="keywordflow">for</font> (<font class="keywordtype">int</font> i = 0; i &lt; <a class="code" href="classOgre_1_1Math.html#Ogre_1_1Mathq0">mTrigTableSize</a>; ++i)
00075         {
00076             angle = Math::TWO_PI * i / <a class="code" href="classOgre_1_1Math.html#Ogre_1_1Mathq0">mTrigTableSize</a>;
00077             <a class="code" href="classOgre_1_1Math.html#Ogre_1_1Mathq2">mSinTable</a>[i] = sin(angle);
00078             <a class="code" href="classOgre_1_1Math.html#Ogre_1_1Mathq3">mTanTable</a>[i] = tan(angle);
00079         }
00080     }
00081     <font class="comment">//-----------------------------------------------------------------------</font>
<a name="l00082"></a><a class="code" href="classOgre_1_1Math.html#Ogre_1_1Mathd0">00082</a>     <font class="keywordtype">int</font> Math::IAbs (<font class="keywordtype">int</font> iValue)
00083     {
00084         <font class="keywordflow">return</font> ( iValue &gt;= 0 ? iValue : -iValue );
00085     }
00086     <font class="comment">//-----------------------------------------------------------------------</font>
<a name="l00087"></a><a class="code" href="classOgre_1_1Math.html#Ogre_1_1Mathd1">00087</a>     <font class="keywordtype">int</font> Math::ICeil (<font class="keywordtype">float</font> fValue)
00088     {
00089         <font class="keywordflow">return</font> int(ceil(fValue));
00090     }
00091     <font class="comment">//-----------------------------------------------------------------------</font>
<a name="l00092"></a><a class="code" href="classOgre_1_1Math.html#Ogre_1_1Mathd2">00092</a>     <font class="keywordtype">int</font> Math::IFloor (<font class="keywordtype">float</font> fValue)
00093     {
00094         <font class="keywordflow">return</font> int(floor(fValue));
00095     }
00096     <font class="comment">//-----------------------------------------------------------------------</font>
<a name="l00097"></a><a class="code" href="classOgre_1_1Math.html#Ogre_1_1Mathd3">00097</a>     <font class="keywordtype">int</font> Math::ISign (<font class="keywordtype">int</font> iValue)
00098     {
00099         <font class="keywordflow">return</font> ( iValue &gt; 0 ? +1 : ( iValue &lt; 0 ? -1 : 0 ) );
00100     }
00101     <font class="comment">//-----------------------------------------------------------------------</font>
<a name="l00102"></a><a class="code" href="classOgre_1_1Math.html#Ogre_1_1Mathd4">00102</a>     <a class="code" href="namespaceOgre.html#a281">Real</a> Math::Abs (<a class="code" href="namespaceOgre.html#a281">Real</a> fValue)
00103     {
00104         <font class="keywordflow">return</font> <a class="code" href="namespaceOgre.html#a281">Real</a>(fabs(fValue));
00105     }
00106     <font class="comment">//-----------------------------------------------------------------------</font>
<a name="l00107"></a><a class="code" href="classOgre_1_1Math.html#Ogre_1_1Mathd5">00107</a>     <a class="code" href="namespaceOgre.html#a281">Real</a> Math::ACos (<a class="code" href="namespaceOgre.html#a281">Real</a> fValue)
00108     {
00109         <font class="keywordflow">if</font> ( -1.0 &lt; fValue )
00110         {
00111             <font class="keywordflow">if</font> ( fValue &lt; 1.0 )
00112                 <font class="keywordflow">return</font> <a class="code" href="namespaceOgre.html#a281">Real</a>(asm_arccos(fValue));
00113             <font class="keywordflow">else</font>
00114                 <font class="keywordflow">return</font> 0.0;
00115         }
00116         <font class="keywordflow">else</font>
00117         {
00118             <font class="keywordflow">return</font> <a class="code" href="classOgre_1_1Math.html#Ogre_1_1Mathp2">PI</a>;
00119         }
00120     }
00121     <font class="comment">//-----------------------------------------------------------------------</font>
<a name="l00122"></a><a class="code" href="classOgre_1_1Math.html#Ogre_1_1Mathd6">00122</a>     <a class="code" href="namespaceOgre.html#a281">Real</a> Math::ASin (<a class="code" href="namespaceOgre.html#a281">Real</a> fValue)
00123     {
00124         <font class="keywordflow">if</font> ( -1.0 &lt; fValue )
00125         {
00126             <font class="keywordflow">if</font> ( fValue &lt; 1.0 )
00127                 <font class="keywordflow">return</font> <a class="code" href="namespaceOgre.html#a281">Real</a>(asm_arcsin(fValue));
00128             <font class="keywordflow">else</font>
00129                 <font class="keywordflow">return</font> -<a class="code" href="classOgre_1_1Math.html#Ogre_1_1Mathp4">HALF_PI</a>;
00130         }
00131         <font class="keywordflow">else</font>
00132         {
00133             <font class="keywordflow">return</font> <a class="code" href="classOgre_1_1Math.html#Ogre_1_1Mathp4">HALF_PI</a>;
00134         }
00135     }
00136     <font class="comment">//-----------------------------------------------------------------------</font>
<a name="l00137"></a><a class="code" href="classOgre_1_1Math.html#Ogre_1_1Mathd7">00137</a>     <a class="code" href="namespaceOgre.html#a281">Real</a> Math::ATan (<a class="code" href="namespaceOgre.html#a281">Real</a> fValue)
00138     {
00139         <font class="keywordflow">return</font> <a class="code" href="namespaceOgre.html#a281">Real</a>(asm_arctan(fValue));
00140     }
00141     <font class="comment">//-----------------------------------------------------------------------</font>
<a name="l00142"></a><a class="code" href="classOgre_1_1Math.html#Ogre_1_1Mathd8">00142</a>     <a class="code" href="namespaceOgre.html#a281">Real</a> Math::ATan2 (<a class="code" href="namespaceOgre.html#a281">Real</a> fY, <a class="code" href="namespaceOgre.html#a281">Real</a> fX)
00143     {
00144         <font class="keywordflow">return</font> <a class="code" href="namespaceOgre.html#a281">Real</a>(atan2(fY,fX));
00145     }
00146     <font class="comment">//-----------------------------------------------------------------------</font>
<a name="l00147"></a><a class="code" href="classOgre_1_1Math.html#Ogre_1_1Mathd9">00147</a>     <a class="code" href="namespaceOgre.html#a281">Real</a> Math::Ceil (<a class="code" href="namespaceOgre.html#a281">Real</a> fValue)
00148     {
00149         <font class="keywordflow">return</font> <a class="code" href="namespaceOgre.html#a281">Real</a>(ceil(fValue));
00150     }
00151     <font class="comment">//-----------------------------------------------------------------------</font>
<a name="l00152"></a><a class="code" href="classOgre_1_1Math.html#Ogre_1_1Mathd10">00152</a>     <a class="code" href="namespaceOgre.html#a281">Real</a> Math::Cos (<a class="code" href="namespaceOgre.html#a281">Real</a> fValue, <font class="keywordtype">bool</font> useTables)
00153     {
00154         <font class="keywordflow">if</font> (useTables)
00155         {
00156             <font class="comment">// Convert to sin equivalent</font>
00157             fValue += Math::HALF_PI;
00158 
00159             <font class="keywordflow">return</font> <a class="code" href="classOgre_1_1Math.html#Ogre_1_1Mathd16">Sin</a>(fValue, useTables);
00160 
00161         }
00162         <font class="keywordflow">else</font>
00163         {
00164             <font class="keywordflow">return</font> <a class="code" href="namespaceOgre.html#a281">Real</a>(asm_cos(fValue));
00165         }
00166     }
00167     <font class="comment">//-----------------------------------------------------------------------</font>
<a name="l00168"></a><a class="code" href="classOgre_1_1Math.html#Ogre_1_1Mathd11">00168</a>     <a class="code" href="namespaceOgre.html#a281">Real</a> Math::Exp (<a class="code" href="namespaceOgre.html#a281">Real</a> fValue)
00169     {
00170         <font class="keywordflow">return</font> <a class="code" href="namespaceOgre.html#a281">Real</a>(exp(fValue));
00171     }
00172     <font class="comment">//-----------------------------------------------------------------------</font>
<a name="l00173"></a><a class="code" href="classOgre_1_1Math.html#Ogre_1_1Mathd12">00173</a>     <a class="code" href="namespaceOgre.html#a281">Real</a> Math::Floor (<a class="code" href="namespaceOgre.html#a281">Real</a> fValue)
00174     {
00175         <font class="keywordflow">return</font> <a class="code" href="namespaceOgre.html#a281">Real</a>(floor(fValue));
00176     }
00177     <font class="comment">//-----------------------------------------------------------------------</font>
<a name="l00178"></a><a class="code" href="classOgre_1_1Math.html#Ogre_1_1Mathd13">00178</a>     <a class="code" href="namespaceOgre.html#a281">Real</a> Math::Log (<a class="code" href="namespaceOgre.html#a281">Real</a> fValue)
00179     {
00180         <font class="keywordflow">return</font> <a class="code" href="namespaceOgre.html#a281">Real</a>(asm_ln(fValue));
00181     }
00182     <font class="comment">//-----------------------------------------------------------------------</font>
<a name="l00183"></a><a class="code" href="classOgre_1_1Math.html#Ogre_1_1Mathd14">00183</a>     <a class="code" href="namespaceOgre.html#a281">Real</a> Math::Pow (<a class="code" href="namespaceOgre.html#a281">Real</a> fBase, <a class="code" href="namespaceOgre.html#a281">Real</a> fExponent)
00184     {
00185         <font class="keywordflow">return</font> <a class="code" href="namespaceOgre.html#a281">Real</a>(pow(fBase,fExponent));
00186     }
00187     <font class="comment">//-----------------------------------------------------------------------</font>
<a name="l00188"></a><a class="code" href="classOgre_1_1Math.html#Ogre_1_1Mathd15">00188</a>     <a class="code" href="namespaceOgre.html#a281">Real</a> Math::Sign (<a class="code" href="namespaceOgre.html#a281">Real</a> fValue)
00189     {
00190         <font class="keywordflow">if</font> ( fValue &gt; 0.0 )
00191             <font class="keywordflow">return</font> 1.0;
00192 
00193         <font class="keywordflow">if</font> ( fValue &lt; 0.0 )
00194             <font class="keywordflow">return</font> -1.0;
00195 
00196         <font class="keywordflow">return</font> 0.0;
00197     }
00198     <font class="comment">//-----------------------------------------------------------------------</font>
<a name="l00199"></a><a class="code" href="classOgre_1_1Math.html#Ogre_1_1Mathd16">00199</a>     <a class="code" href="namespaceOgre.html#a281">Real</a> Math::Sin (<a class="code" href="namespaceOgre.html#a281">Real</a> fValue, <font class="keywordtype">bool</font> useTables)
00200     {
00201         <font class="keywordflow">if</font> (useTables)
00202         {
00203             <font class="comment">// Convert range to index values, wrap if required</font>
00204             <font class="keywordtype">int</font> idx;
00205             <font class="keywordflow">if</font> (fValue &gt;= 0)
00206             {
00207                 idx = int(fValue * <a class="code" href="classOgre_1_1Math.html#Ogre_1_1Mathq1">mTrigTableFactor</a>) % <a class="code" href="classOgre_1_1Math.html#Ogre_1_1Mathq0">mTrigTableSize</a>;
00208             }
00209             <font class="keywordflow">else</font>
00210             {
00211                 idx = <a class="code" href="classOgre_1_1Math.html#Ogre_1_1Mathq0">mTrigTableSize</a> - (int(-fValue * <a class="code" href="classOgre_1_1Math.html#Ogre_1_1Mathq1">mTrigTableFactor</a>) % <a class="code" href="classOgre_1_1Math.html#Ogre_1_1Mathq0">mTrigTableSize</a>) - 1;
00212             }
00213 
00214             <font class="keywordflow">return</font> <a class="code" href="classOgre_1_1Math.html#Ogre_1_1Mathq2">mSinTable</a>[idx];
00215         }
00216         <font class="keywordflow">else</font>
00217         {
00218             <font class="keywordflow">return</font> <a class="code" href="namespaceOgre.html#a281">Real</a>(asm_sin(fValue));
00219         }
00220     }
00221     <font class="comment">//-----------------------------------------------------------------------</font>
<a name="l00222"></a><a class="code" href="classOgre_1_1Math.html#Ogre_1_1Mathd17">00222</a>     <a class="code" href="namespaceOgre.html#a281">Real</a> Math::Sqr (<a class="code" href="namespaceOgre.html#a281">Real</a> fValue)
00223     {
00224         <font class="keywordflow">return</font> fValue*fValue;
00225     }
00226     <font class="comment">//-----------------------------------------------------------------------</font>
<a name="l00227"></a><a class="code" href="classOgre_1_1Math.html#Ogre_1_1Mathd18">00227</a>     <a class="code" href="namespaceOgre.html#a281">Real</a> Math::Sqrt (<a class="code" href="namespaceOgre.html#a281">Real</a> fValue)
00228     {
00229         <font class="keywordflow">return</font> <a class="code" href="namespaceOgre.html#a281">Real</a>(asm_sqrt(fValue));
00230     }
00231     <font class="comment">//-----------------------------------------------------------------------</font>
<a name="l00232"></a><a class="code" href="classOgre_1_1Math.html#Ogre_1_1Mathd19">00232</a>     <a class="code" href="namespaceOgre.html#a281">Real</a> Math::InvSqrt (<a class="code" href="namespaceOgre.html#a281">Real</a> fValue)
00233     {
00234         <font class="keywordflow">return</font> <a class="code" href="namespaceOgre.html#a281">Real</a>(asm_rsq(fValue));
00235     }
00236     <font class="comment">//-----------------------------------------------------------------------</font>
<a name="l00237"></a><a class="code" href="classOgre_1_1Math.html#Ogre_1_1Mathd20">00237</a>     <a class="code" href="namespaceOgre.html#a281">Real</a> Math::UnitRandom ()
00238     {
00239         <font class="keywordflow">return</font> asm_rand() / asm_rand_max();
00240     }
00241     
00242     <font class="comment">//-----------------------------------------------------------------------</font>
<a name="l00243"></a><a class="code" href="classOgre_1_1Math.html#Ogre_1_1Mathd21">00243</a>     <a class="code" href="namespaceOgre.html#a281">Real</a> Math::RangeRandom (<a class="code" href="namespaceOgre.html#a281">Real</a> fLow, <a class="code" href="namespaceOgre.html#a281">Real</a> fHigh)
00244     {
00245         <font class="keywordflow">return</font> (fHigh-fLow)*<a class="code" href="classOgre_1_1Math.html#Ogre_1_1Mathd20">UnitRandom</a>() + fLow;
00246     }
00247 
00248     <font class="comment">//-----------------------------------------------------------------------</font>
<a name="l00249"></a><a class="code" href="classOgre_1_1Math.html#Ogre_1_1Mathd22">00249</a>     <a class="code" href="namespaceOgre.html#a281">Real</a> Math::SymmetricRandom ()
00250     {
00251         <font class="keywordflow">return</font> 2.0f * <a class="code" href="classOgre_1_1Math.html#Ogre_1_1Mathd20">UnitRandom</a>() - 1.0f;
00252     }
00253 
00254     <font class="comment">//-----------------------------------------------------------------------</font>
<a name="l00255"></a><a class="code" href="classOgre_1_1Math.html#Ogre_1_1Mathd24">00255</a>     <a class="code" href="namespaceOgre.html#a281">Real</a> Math::DegreesToRadians(<a class="code" href="namespaceOgre.html#a281">Real</a> degrees)
00256     {
00257         <font class="keyword">static</font> <a class="code" href="namespaceOgre.html#a281">Real</a> fDeg2Rad = <a class="code" href="classOgre_1_1Math.html#Ogre_1_1Mathp2">PI</a> / <a class="code" href="namespaceOgre.html#a281">Real</a>(180.0);
00258 
00259         <font class="keywordflow">return</font> degrees * fDeg2Rad;
00260     }
00261 
00262     <font class="comment">//-----------------------------------------------------------------------</font>
<a name="l00263"></a><a class="code" href="classOgre_1_1Math.html#Ogre_1_1Mathd25">00263</a>     <a class="code" href="namespaceOgre.html#a281">Real</a> Math::RadiansToDegrees(<a class="code" href="namespaceOgre.html#a281">Real</a> radians)
00264     {
00265         <font class="keyword">static</font> <a class="code" href="namespaceOgre.html#a281">Real</a> fRad2Deg = <a class="code" href="namespaceOgre.html#a281">Real</a>(180.0) / <a class="code" href="classOgre_1_1Math.html#Ogre_1_1Mathp2">PI</a>;
00266 
00267         <font class="keywordflow">return</font> radians * fRad2Deg;
00268     }
00269 
00270     <font class="comment">//-----------------------------------------------------------------------</font>
<a name="l00271"></a><a class="code" href="classOgre_1_1Math.html#Ogre_1_1Mathd26">00271</a>     <font class="keywordtype">bool</font> Math::pointInTri2D( <a class="code" href="namespaceOgre.html#a281">Real</a> px, <a class="code" href="namespaceOgre.html#a281">Real</a> py, <a class="code" href="namespaceOgre.html#a281">Real</a> ax, <a class="code" href="namespaceOgre.html#a281">Real</a> ay, <a class="code" href="namespaceOgre.html#a281">Real</a> bx, <a class="code" href="namespaceOgre.html#a281">Real</a> by, <a class="code" href="namespaceOgre.html#a281">Real</a> cx, <a class="code" href="namespaceOgre.html#a281">Real</a> cy )
00272     {
00273         <a class="code" href="namespaceOgre.html#a281">Real</a> v1x, v2x, v1y, v2y;
00274         <font class="keywordtype">bool</font> bClockwise;
00275 
00276         v1x = bx - ax;
00277         v1y = by - ay;
00278 
00279         v2x = px - bx;
00280         v2y = py - by;
00281 
00282         <font class="comment">// For the sake of readability</font>
00283 <font class="preprocessor">        #define Clockwise ( v1x * v2y - v1y * v2x &gt;= 0.0 )</font>
00284 <font class="preprocessor"></font>
00285         bClockwise = Clockwise;
00286 
00287         v1x = cx - bx;
00288         v1y = cy - by;
00289 
00290         v2x = px - cx;
00291         v2y = py - cy;
00292 
00293         <font class="keywordflow">if</font>( Clockwise != bClockwise )
00294             <font class="keywordflow">return</font> <font class="keyword">false</font>;
00295 
00296         v1x = ax - cx;
00297         v1y = ay - cy;
00298 
00299         v2x = px - ax;
00300         v2y = py - ay;
00301 
00302         <font class="keywordflow">if</font>( Clockwise != bClockwise )
00303             <font class="keywordflow">return</font> <font class="keyword">false</font>;
00304 
00305         <font class="keywordflow">return</font> <font class="keyword">true</font>;
00306 
00307         <font class="comment">// Clean up the #defines</font>
00308 <font class="preprocessor">        #undef Clockwise</font>
00309 <font class="preprocessor"></font>    }
00310 
00311     <font class="comment">//-----------------------------------------------------------------------</font>
<a name="l00312"></a><a class="code" href="classOgre_1_1Math.html#Ogre_1_1Mathd23">00312</a>     <a class="code" href="namespaceOgre.html#a281">Real</a> Math::Tan(<a class="code" href="namespaceOgre.html#a281">Real</a> radians, <font class="keywordtype">bool</font> useTables)
00313     {
00314         <font class="keywordflow">if</font> (useTables)
00315         {
00316             <font class="comment">// Convert range to index values, wrap if required</font>
00317             <font class="keywordtype">int</font> idx = int(radians *= <a class="code" href="classOgre_1_1Math.html#Ogre_1_1Mathq1">mTrigTableFactor</a>) % <a class="code" href="classOgre_1_1Math.html#Ogre_1_1Mathq0">mTrigTableSize</a>;
00318             <font class="keywordflow">return</font> <a class="code" href="classOgre_1_1Math.html#Ogre_1_1Mathq3">mTanTable</a>[idx];
00319         }
00320         <font class="keywordflow">else</font>
00321         {
00322             <font class="keywordflow">return</font> <a class="code" href="namespaceOgre.html#a281">Real</a>(asm_tan(radians));
00323         }
00324     }
00325 
00326     <font class="comment">//-----------------------------------------------------------------------</font>
<a name="l00327"></a><a class="code" href="classOgre_1_1Math.html#Ogre_1_1Mathd27">00327</a>     <font class="keywordtype">bool</font> Math::RealEqual( <a class="code" href="namespaceOgre.html#a281">Real</a> a, <a class="code" href="namespaceOgre.html#a281">Real</a> b, <a class="code" href="namespaceOgre.html#a281">Real</a> tolerance )
00328     {
00329         <font class="keywordflow">if</font> ((b &lt; (a + tolerance)) &amp;&amp; (b &gt; (a - tolerance)))
00330             <font class="keywordflow">return</font> <font class="keyword">true</font>;
00331         <font class="keywordflow">else</font>
00332             <font class="keywordflow">return</font> <font class="keyword">false</font>;
00333     }
00334 
00335     <font class="comment">//-----------------------------------------------------------------------</font>
<a name="l00336"></a><a class="code" href="classOgre_1_1Math.html#Ogre_1_1Mathd28">00336</a>     <a class="code" href="classOgre_1_1Math.html">Math</a>&amp; Math::getSingleton(<font class="keywordtype">void</font>)
00337     {
00338         <font class="keywordflow">return</font> <a class="code" href="classOgre_1_1Singleton.html">Singleton&lt;Math&gt;::getSingleton</a>();
00339     }
00340 
00341 }
</pre></div><p>
Copyright &copy; 2002 by The OGRE Team<br />
<script type="text/javascript">
<!--//hide script from old browsers
document.write( "Last modified "+ document.lastModified );
//end hiding contents -->
</script>
</p>
</body>
</html>
