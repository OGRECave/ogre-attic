<html>
<head>
<title>OGRE Documentation</title> <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"> 
<link type="text/css" rel="stylesheet" href="style.css">
</head>

<body>
<!-- Generated by Doxygen 1.2.16 -->
<center>
<a class="qindex" href="index.html">Main Page</a> &nbsp; <a class="qindex" href="namespaces.html">Namespace List</a> &nbsp; <a class="qindex" href="hierarchy.html">Class Hierarchy</a> &nbsp; <a class="qindex" href="classes.html">Alphabetical List</a> &nbsp; <a class="qindex" href="annotated.html">Compound List</a> &nbsp; <a class="qindex" href="files.html">File List</a> &nbsp; <a class="qindex" href="namespacemembers.html">Namespace Members</a> &nbsp; <a class="qindex" href="functions.html">Compound Members</a> &nbsp; <a class="qindex" href="globals.html">File Members</a> &nbsp; <a class="qindex" href="pages.html">Related Pages</a> &nbsp; </center>
<hr><h1>OgreBillboardSet.h</h1><a href="OgreBillboardSet_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre>00001 <font class="comment">/*</font>
00002 <font class="comment">-----------------------------------------------------------------------------</font>
00003 <font class="comment">This source file is part of OGRE</font>
00004 <font class="comment">    (Object-oriented Graphics Rendering Engine)</font>
00005 <font class="comment">For the latest info, see http://www.stevestreeting.com/ogre/</font>
00006 <font class="comment"></font>
00007 <font class="comment">Copyright © 2000-2001 Steven J. Streeting</font>
00008 <font class="comment">Also see acknowledgements in Readme.html</font>
00009 <font class="comment"></font>
00010 <font class="comment">This program is free software; you can redistribute it and/or modify it under</font>
00011 <font class="comment">the terms of the GNU General Public License as published by the Free Software</font>
00012 <font class="comment">Foundation; either version 2 of the License, or (at your option) any later</font>
00013 <font class="comment">version.</font>
00014 <font class="comment"></font>
00015 <font class="comment">This program is distributed in the hope that it will be useful, but WITHOUT</font>
00016 <font class="comment">ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS</font>
00017 <font class="comment">FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.</font>
00018 <font class="comment"></font>
00019 <font class="comment">You should have received a copy of the GNU General Public License along with</font>
00020 <font class="comment">this program; if not, write to the Free Software Foundation, Inc., 59 Temple</font>
00021 <font class="comment">Place - Suite 330, Boston, MA 02111-1307, USA, or go to</font>
00022 <font class="comment">http://www.gnu.org/copyleft/gpl.html.</font>
00023 <font class="comment">-----------------------------------------------------------------------------</font>
00024 <font class="comment">*/</font>
00025 
00026 <font class="preprocessor">#ifndef __BillboardSet_H__</font>
00027 <font class="preprocessor"></font><font class="preprocessor">#define __BillboardSet_H__</font>
00028 <font class="preprocessor"></font>
00029 <font class="preprocessor">#include "<a class="code" href="OgrePrerequisites_8h.html">OgrePrerequisites.h</a>"</font>
00030 
00031 <font class="preprocessor">#include "<a class="code" href="OgreMovableObject_8h.html">OgreMovableObject.h</a>"</font>
00032 <font class="preprocessor">#include "<a class="code" href="OgreRenderable_8h.html">OgreRenderable.h</a>"</font>
00033 <font class="preprocessor">#include "<a class="code" href="OgreAxisAlignedBox_8h.html">OgreAxisAlignedBox.h</a>"</font>
00034 <font class="preprocessor">#include "<a class="code" href="OgreBillboard_8h.html">OgreBillboard.h</a>"</font>
00035 <font class="preprocessor">#include "<a class="code" href="OgreString_8h.html">OgreString.h</a>"</font>
00036 <font class="preprocessor">#include "<a class="code" href="OgreColourValue_8h.html">OgreColourValue.h</a>"</font>
00037 <font class="preprocessor">#include "<a class="code" href="OgreStringInterface_8h.html">OgreStringInterface.h</a>"</font>
00038 
00039 <font class="keyword">namespace </font>Ogre {
00040 
<a name="l00046"></a><a class="code" href="namespaceOgre.html#a415">00046</a>     <font class="keyword">enum</font> <a class="code" href="namespaceOgre.html#a415">BillboardOrigin</a>
00047     {
00048         <a class="code" href="namespaceOgre.html#a415a1">BBO_TOP_LEFT</a>,
00049         <a class="code" href="namespaceOgre.html#a415a2">BBO_TOP_CENTER</a>,
00050         <a class="code" href="namespaceOgre.html#a415a3">BBO_TOP_RIGHT</a>,
00051         <a class="code" href="namespaceOgre.html#a415a4">BBO_CENTER_LEFT</a>,
00052         <a class="code" href="namespaceOgre.html#a415a5">BBO_CENTER</a>,
00053         <a class="code" href="namespaceOgre.html#a415a6">BBO_CENTER_RIGHT</a>,
00054         <a class="code" href="namespaceOgre.html#a415a7">BBO_BOTTOM_LEFT</a>,
00055         <a class="code" href="namespaceOgre.html#a415a8">BBO_BOTTOM_CENTER</a>,
00056         <a class="code" href="namespaceOgre.html#a415a9">BBO_BOTTOM_RIGHT</a>
00057     };
<a name="l00059"></a><a class="code" href="namespaceOgre.html#a416">00059</a>     <font class="keyword">enum</font> <a class="code" href="namespaceOgre.html#a416">BillboardType</a>
00060     {
00062         <a class="code" href="namespaceOgre.html#a416a10">BBT_POINT</a>,
00064         <a class="code" href="namespaceOgre.html#a416a11">BBT_ORIENTED_COMMON</a>,
00066         <a class="code" href="namespaceOgre.html#a416a12">BBT_ORIENTED_SELF</a>
00067 
00068     };
00069 
<a name="l00084"></a><a class="code" href="classOgre_1_1BillboardSet.html">00084</a>     <font class="keyword">class </font><a class="code" href="OgrePlatform_8h.html#a11">_OgreExport</a> <a class="code" href="classOgre_1_1BillboardSet.html">BillboardSet</a> : <font class="keyword">public</font> <a class="code" href="classOgre_1_1StringInterface.html">StringInterface</a>, <font class="keyword">public</font> <a class="code" href="classOgre_1_1MovableObject.html">MovableObject</a>, <font class="keyword">public</font> <a class="code" href="classOgre_1_1Renderable.html">Renderable</a>
00085     {
00086 
00087     <font class="keyword">protected</font>:
00090         <a class="code" href="classOgre_1_1BillboardSet.html">BillboardSet</a>();
00091 
<a name="l00093"></a><a class="code" href="classOgre_1_1BillboardSet.html#Ogre_1_1BillboardSetn0">00093</a>         <a class="code" href="classOgre_1_1String.html">String</a> mName;
00094 
<a name="l00096"></a><a class="code" href="classOgre_1_1BillboardSet.html#Ogre_1_1ParticleSystemn3">00096</a>         <a class="code" href="classOgre_1_1AxisAlignedBox.html">AxisAlignedBox</a> mAABB;
00097 
<a name="l00099"></a><a class="code" href="classOgre_1_1BillboardSet.html#Ogre_1_1ParticleSystemn4">00099</a>         <a class="code" href="namespaceOgre.html#a415">BillboardOrigin</a> mOriginType;
00100 
<a name="l00102"></a><a class="code" href="classOgre_1_1BillboardSet.html#Ogre_1_1ParticleSystemn5">00102</a>         <a class="code" href="namespaceOgre.html#a281">Real</a> mDefaultWidth;
<a name="l00104"></a><a class="code" href="classOgre_1_1BillboardSet.html#Ogre_1_1ParticleSystemn6">00104</a>         <a class="code" href="namespaceOgre.html#a281">Real</a> mDefaultHeight;
00105 
<a name="l00107"></a><a class="code" href="classOgre_1_1BillboardSet.html#Ogre_1_1ParticleSystemn7">00107</a>         <a class="code" href="classOgre_1_1String.html">String</a> mMaterialName;
<a name="l00109"></a><a class="code" href="classOgre_1_1BillboardSet.html#Ogre_1_1ParticleSystemn8">00109</a>         <a class="code" href="classOgre_1_1Material.html">Material</a>* mpMaterial;
00110 
<a name="l00112"></a><a class="code" href="classOgre_1_1BillboardSet.html#Ogre_1_1ParticleSystemn9">00112</a>         <font class="keywordtype">bool</font> mAllDefaultSize;
00113 
<a name="l00115"></a><a class="code" href="classOgre_1_1BillboardSet.html#Ogre_1_1ParticleSystemn10">00115</a>         <font class="keywordtype">bool</font> mAutoExtendPool;
00116 
<a name="l00117"></a><a class="code" href="classOgre_1_1BillboardSet.html#Ogre_1_1ParticleSystemt2">00117</a>         <font class="keyword">typedef</font> std::list&lt;Billboard*&gt; ActiveBillboardList;
<a name="l00118"></a><a class="code" href="classOgre_1_1BillboardSet.html#Ogre_1_1ParticleSystemt3">00118</a>         <font class="keyword">typedef</font> std::deque&lt;Billboard*&gt; FreeBillboardQueue;
<a name="l00119"></a><a class="code" href="classOgre_1_1BillboardSet.html#Ogre_1_1ParticleSystemt4">00119</a>         <font class="keyword">typedef</font> std::vector&lt;Billboard*&gt; BillboardPool;
00120 
<a name="l00129"></a><a class="code" href="classOgre_1_1BillboardSet.html#Ogre_1_1ParticleSystemn11">00129</a>         ActiveBillboardList mActiveBillboards;
00130 
<a name="l00138"></a><a class="code" href="classOgre_1_1BillboardSet.html#Ogre_1_1ParticleSystemn12">00138</a>         FreeBillboardQueue mFreeBillboards;
00139 
<a name="l00144"></a><a class="code" href="classOgre_1_1BillboardSet.html#Ogre_1_1ParticleSystemn13">00144</a>         BillboardPool mBillboardPool;
00145 
00146 
<a name="l00148"></a><a class="code" href="classOgre_1_1BillboardSet.html#Ogre_1_1ParticleSystemn14">00148</a>         <a class="code" href="namespaceOgre.html#a281">Real</a>* mpPositions;
00149 
<a name="l00151"></a><a class="code" href="classOgre_1_1BillboardSet.html#Ogre_1_1ParticleSystemn15">00151</a>         <a class="code" href="namespaceOgre.html#a63">RGBA</a>* mpColours;
00152 
<a name="l00154"></a><a class="code" href="classOgre_1_1BillboardSet.html#Ogre_1_1ParticleSystemn16">00154</a>         <a class="code" href="namespaceOgre.html#a281">Real</a>* mpTexCoords;
00155 
<a name="l00157"></a><a class="code" href="classOgre_1_1BillboardSet.html#Ogre_1_1ParticleSystemn17">00157</a>         <font class="keywordtype">unsigned</font> <font class="keywordtype">short</font>* mpIndexes;
00158 
<a name="l00160"></a><a class="code" href="classOgre_1_1BillboardSet.html#Ogre_1_1ParticleSystemn18">00160</a>         <font class="keywordtype">bool</font> mCullIndividual;
00161 
<a name="l00163"></a><a class="code" href="classOgre_1_1BillboardSet.html#Ogre_1_1ParticleSystemn19">00163</a>         <a class="code" href="namespaceOgre.html#a416">BillboardType</a> mBillboardType;
00164 
<a name="l00166"></a><a class="code" href="classOgre_1_1BillboardSet.html#Ogre_1_1ParticleSystemn20">00166</a>         <a class="code" href="classOgre_1_1Vector3.html">Vector3</a> mCommonDirection;
00167 
00169         <font class="keyword">inline</font> <font class="keywordtype">bool</font> billboardVisible(<a class="code" href="classOgre_1_1Camera.html">Camera</a>* cam, ActiveBillboardList::iterator bill);
00170 
00171         <font class="comment">// Number of visible billboards (will be == getNumBillboards if mCullIndividual == false)</font>
<a name="l00172"></a><a class="code" href="classOgre_1_1BillboardSet.html#Ogre_1_1ParticleSystemn21">00172</a>         <font class="keywordtype">unsigned</font> <font class="keywordtype">short</font> mNumVisibleBillboards;
00173 
00175         <font class="keyword">virtual</font> <font class="keywordtype">void</font> increasePool(<font class="keywordtype">unsigned</font> <font class="keywordtype">int</font> size);
00176 
00177 
00178         <font class="comment">//-----------------------------------------------------------------------</font>
00179         <font class="comment">// The internal methods which follow are here to allow maximum flexibility as to </font>
00180         <font class="comment">//  when various components of the calculation are done. Depending on whether the</font>
00181         <font class="comment">//  billboards are of fixed size and whether they are point or oriented type will</font>
00182         <font class="comment">//  determine how much calculation has to be done per-billboard. NOT a one-size fits all approach.</font>
00183         <font class="comment">//-----------------------------------------------------------------------</font>
00188 <font class="comment"></font>        <font class="keyword">virtual</font> <font class="keywordtype">void</font> genBillboardAxes(<a class="code" href="classOgre_1_1Camera.html">Camera</a>&amp; cam, <a class="code" href="classOgre_1_1Vector3.html">Vector3</a>* pX, <a class="code" href="classOgre_1_1Vector3.html">Vector3</a> *pY, <font class="keyword">const</font> <a class="code" href="classOgre_1_1Billboard.html">Billboard</a>* pBill = 0);
00189 
00192         <font class="keyword">inline</font> <font class="keywordtype">void</font> getParametricOffsets(<a class="code" href="namespaceOgre.html#a281">Real</a>&amp; left, <a class="code" href="namespaceOgre.html#a281">Real</a>&amp; right, <a class="code" href="namespaceOgre.html#a281">Real</a>&amp; top, <a class="code" href="namespaceOgre.html#a281">Real</a>&amp; bottom);
00193 
00201         <font class="keyword">inline</font> <font class="keywordtype">void</font> genVertices(<a class="code" href="namespaceOgre.html#a281">Real</a> **pPos, <a class="code" href="namespaceOgre.html#a63">RGBA</a>** pCol, <font class="keyword">const</font> <a class="code" href="classOgre_1_1Vector3.html">Vector3</a>* offsets, <font class="keyword">const</font> <a class="code" href="classOgre_1_1Billboard.html">Billboard</a>* pBillboard);
00202 
00210         <font class="keyword">inline</font> <font class="keywordtype">void</font> genVertOffsets(<a class="code" href="namespaceOgre.html#a281">Real</a> inleft, <a class="code" href="namespaceOgre.html#a281">Real</a> inright, <a class="code" href="namespaceOgre.html#a281">Real</a> intop, <a class="code" href="namespaceOgre.html#a281">Real</a> inbottom,
00211             <a class="code" href="namespaceOgre.html#a281">Real</a> width, <a class="code" href="namespaceOgre.html#a281">Real</a> height,
00212             <font class="keyword">const</font> <a class="code" href="classOgre_1_1Vector3.html">Vector3</a>&amp; x, <font class="keyword">const</font> <a class="code" href="classOgre_1_1Vector3.html">Vector3</a>&amp; y, <a class="code" href="classOgre_1_1Vector3.html">Vector3</a>* pDestVec);
00213 
00215         <font class="keyword">static</font> <a class="code" href="classOgre_1_1String.html">String</a> msMovableType;
00216 
00217     <font class="keyword">public</font>:
00218 
00230         <a class="code" href="classOgre_1_1BillboardSet.html">BillboardSet</a>( <font class="keyword">const</font> <a class="code" href="classOgre_1_1String.html">String</a>&amp; name, <font class="keywordtype">unsigned</font> <font class="keywordtype">int</font> poolSize = 20);
00231 
00232         <font class="keyword">virtual</font> ~<a class="code" href="classOgre_1_1BillboardSet.html">BillboardSet</a>();
00233 
00251         <a class="code" href="classOgre_1_1Billboard.html">Billboard</a>* createBillboard(
00252             <font class="keyword">const</font> <a class="code" href="classOgre_1_1Vector3.html">Vector3</a>&amp; position,
00253             <font class="keyword">const</font> <a class="code" href="classOgre_1_1ColourValue.html">ColourValue</a>&amp; colour = ColourValue::White );
00254 
00276         <a class="code" href="classOgre_1_1Billboard.html">Billboard</a>* createBillboard(
00277             <a class="code" href="namespaceOgre.html#a281">Real</a> x, <a class="code" href="namespaceOgre.html#a281">Real</a> y, <a class="code" href="namespaceOgre.html#a281">Real</a> z,
00278             <font class="keyword">const</font> <a class="code" href="classOgre_1_1ColourValue.html">ColourValue</a>&amp; colour = ColourValue::White );
00279 
00282         <font class="keyword">virtual</font> <font class="keywordtype">int</font> getNumBillboards(<font class="keywordtype">void</font>) <font class="keyword">const</font>;
00283 
00298         <font class="keyword">virtual</font> <font class="keywordtype">void</font> setAutoextend(<font class="keywordtype">bool</font> autoextend);
00299 
00304         <font class="keyword">virtual</font> <font class="keywordtype">bool</font> getAutoextend(<font class="keywordtype">void</font>) <font class="keyword">const</font>;
00305 
00316         <font class="keyword">virtual</font> <font class="keywordtype">void</font> setPoolSize(<font class="keywordtype">unsigned</font> <font class="keywordtype">int</font> size);
00317 
00324         <font class="keyword">virtual</font> <font class="keywordtype">unsigned</font> <font class="keywordtype">int</font> getPoolSize(<font class="keywordtype">void</font>) <font class="keyword">const</font>;
00325 
00326 
00329         <font class="keyword">virtual</font> <font class="keywordtype">void</font> clear();
00330 
00342         <font class="keyword">virtual</font> <a class="code" href="classOgre_1_1Billboard.html">Billboard</a>* getBillboard(<font class="keywordtype">unsigned</font> <font class="keywordtype">int</font> index) <font class="keyword">const</font>;
00343 
00348         <font class="keyword">virtual</font> <font class="keywordtype">void</font> removeBillboard(<font class="keywordtype">unsigned</font> <font class="keywordtype">int</font> index);
00349 
00354         <font class="keyword">virtual</font> <font class="keywordtype">void</font> removeBillboard(<a class="code" href="classOgre_1_1Billboard.html">Billboard</a>* pBill);
00355 
00367         <font class="keyword">virtual</font> <font class="keywordtype">void</font> setBillboardOrigin(<a class="code" href="namespaceOgre.html#a415">BillboardOrigin</a> origin);
00368 
00373         <font class="keyword">virtual</font> <a class="code" href="namespaceOgre.html#a415">BillboardOrigin</a> getBillboardOrigin(<font class="keywordtype">void</font>) <font class="keyword">const</font>;
00374 
00385         <font class="keyword">virtual</font> <font class="keywordtype">void</font> setDefaultDimensions(<a class="code" href="namespaceOgre.html#a281">Real</a> width, <a class="code" href="namespaceOgre.html#a281">Real</a> height);
00386 
00388         <font class="keyword">virtual</font> <font class="keywordtype">void</font> setDefaultWidth(<a class="code" href="namespaceOgre.html#a281">Real</a> width);
00390         <font class="keyword">virtual</font> <a class="code" href="namespaceOgre.html#a281">Real</a> getDefaultWidth(<font class="keywordtype">void</font>);
00392         <font class="keyword">virtual</font> <font class="keywordtype">void</font> setDefaultHeight(<a class="code" href="namespaceOgre.html#a281">Real</a> height);
00394         <font class="keyword">virtual</font> <a class="code" href="namespaceOgre.html#a281">Real</a> getDefaultHeight(<font class="keywordtype">void</font>);
00395 
00400         <font class="keyword">virtual</font> <font class="keywordtype">void</font> setMaterialName(<font class="keyword">const</font> <a class="code" href="classOgre_1_1String.html">String</a>&amp; name);
00401 
00405         <font class="keyword">virtual</font> <font class="keyword">const</font> <a class="code" href="classOgre_1_1String.html">String</a>&amp; getMaterialName(<font class="keywordtype">void</font>) <font class="keyword">const</font>;
00406 
00411         <font class="keyword">virtual</font> <font class="keywordtype">void</font> _notifyCurrentCamera(<a class="code" href="classOgre_1_1Camera.html">Camera</a>* cam);
00412 
00417         <font class="keyword">virtual</font> <font class="keyword">const</font> <a class="code" href="classOgre_1_1AxisAlignedBox.html">AxisAlignedBox</a>&amp; getBoundingBox(<font class="keywordtype">void</font>) <font class="keyword">const</font>;
00418 
00423         <font class="keyword">virtual</font> <font class="keywordtype">void</font> _updateRenderQueue(<a class="code" href="classOgre_1_1RenderQueue.html">RenderQueue</a>* queue);
00424 
00429         <font class="keyword">virtual</font> <a class="code" href="classOgre_1_1Material.html">Material</a>* getMaterial(<font class="keywordtype">void</font>) <font class="keyword">const</font>;
00430 
00435         <font class="keyword">virtual</font> <font class="keywordtype">void</font> getRenderOperation(<a class="code" href="classOgre_1_1RenderOperation.html">RenderOperation</a>&amp; rend);
00436 
00441         <font class="keyword">virtual</font> <font class="keywordtype">void</font> getWorldTransforms(<a class="code" href="classOgre_1_1Matrix4.html">Matrix4</a>* xform);
00442 
00445         <font class="keyword">virtual</font> <font class="keywordtype">void</font> _notifyBillboardResized(<font class="keywordtype">void</font>);
00446 
00448         <font class="keyword">virtual</font> <font class="keywordtype">bool</font> getCullIndividually(<font class="keywordtype">void</font>);
00469         <font class="keyword">virtual</font> <font class="keywordtype">void</font> setCullIndividually(<font class="keywordtype">bool</font> cullIndividual);
00470 
00481         <font class="keyword">virtual</font> <font class="keywordtype">void</font> setBillboardType(<a class="code" href="namespaceOgre.html#a416">BillboardType</a> bbt);
00482 
00484         <font class="keyword">virtual</font> <a class="code" href="namespaceOgre.html#a416">BillboardType</a> getBillboardType(<font class="keywordtype">void</font>);
00485 
00493         <font class="keyword">virtual</font> <font class="keywordtype">void</font> setCommonDirection(<font class="keyword">const</font> <a class="code" href="classOgre_1_1Vector3.html">Vector3</a>&amp; vec);
00494 
00496         <font class="keyword">virtual</font> <a class="code" href="classOgre_1_1Vector3.html">Vector3</a> getCommonDirection(<font class="keywordtype">void</font>);
00497 
00499         <a class="code" href="classOgre_1_1String.html">String</a> getName(<font class="keywordtype">void</font>);
00500 
00502         <a class="code" href="classOgre_1_1String.html">String</a> getMovableType(<font class="keywordtype">void</font>);
00503 
00504 
00505     };
00506 
00507 }
00508 
00509 
00510 <font class="preprocessor">#endif</font>
</pre></div><p>
Copyright &copy; 2002 by The OGRE Team<br />
<script type="text/javascript">
<!--//hide script from old browsers
document.write( "Last modified "+ document.lastModified );
//end hiding contents -->
</script>
</p>
</body>
</html>
