<html>
<head>
<title>OGRE Documentation</title> <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"> 
<link type="text/css" rel="stylesheet" href="style.css">
</head>

<body>
<!-- Generated by Doxygen 1.2.16 -->
<center>
<a class="qindex" href="index.html">Main Page</a> &nbsp; <a class="qindex" href="namespaces.html">Namespace List</a> &nbsp; <a class="qindex" href="hierarchy.html">Class Hierarchy</a> &nbsp; <a class="qindex" href="classes.html">Alphabetical List</a> &nbsp; <a class="qindex" href="annotated.html">Compound List</a> &nbsp; <a class="qindex" href="files.html">File List</a> &nbsp; <a class="qindex" href="namespacemembers.html">Namespace Members</a> &nbsp; <a class="qindex" href="functions.html">Compound Members</a> &nbsp; <a class="qindex" href="globals.html">File Members</a> &nbsp; <a class="qindex" href="pages.html">Related Pages</a> &nbsp; </center>
<hr><h1>OgreLight.cpp</h1><a href="OgreLight_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><pre>00001 <font class="comment">/*</font>
00002 <font class="comment">-----------------------------------------------------------------------------</font>
00003 <font class="comment">This source file is part of OGRE</font>
00004 <font class="comment">    (Object-oriented Graphics Rendering Engine)</font>
00005 <font class="comment">For the latest info, see http://www.stevestreeting.com/ogre/</font>
00006 <font class="comment"></font>
00007 <font class="comment">Copyright © 2000-2001 Steven J. Streeting</font>
00008 <font class="comment">Also see acknowledgements in Readme.html</font>
00009 <font class="comment"></font>
00010 <font class="comment">This program is free software; you can redistribute it and/or modify it under</font>
00011 <font class="comment">the terms of the GNU General Public License as published by the Free Software</font>
00012 <font class="comment">Foundation; either version 2 of the License, or (at your option) any later</font>
00013 <font class="comment">version.</font>
00014 <font class="comment"></font>
00015 <font class="comment">This program is distributed in the hope that it will be useful, but WITHOUT</font>
00016 <font class="comment">ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS</font>
00017 <font class="comment">FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.</font>
00018 <font class="comment"></font>
00019 <font class="comment">You should have received a copy of the GNU General Public License along with</font>
00020 <font class="comment">this program; if not, write to the Free Software Foundation, Inc., 59 Temple</font>
00021 <font class="comment">Place - Suite 330, Boston, MA 02111-1307, USA, or go to</font>
00022 <font class="comment">http://www.gnu.org/copyleft/gpl.html.</font>
00023 <font class="comment">-----------------------------------------------------------------------------</font>
00024 <font class="comment">*/</font>
00025 <font class="preprocessor">#include "<a class="code" href="OgreLight_8h.html">OgreLight.h</a>"</font>
00026 
00027 <font class="preprocessor">#include "<a class="code" href="OgreException_8h.html">OgreException.h</a>"</font>
00028 <font class="preprocessor">#include "<a class="code" href="OgreSceneNode_8h.html">OgreSceneNode.h</a>"</font>
00029 
00030 <font class="keyword">namespace </font>Ogre {
<a name="l00031"></a><a class="code" href="classOgre_1_1Light.html#Ogre_1_1Lightr0">00031</a>     <a class="code" href="classOgre_1_1String.html">String</a> Light::msMovableType = <font class="stringliteral">"Light"</font>;
00032 
00033     <font class="comment">//-----------------------------------------------------------------------</font>
<a name="l00034"></a><a class="code" href="classOgre_1_1Light.html#Ogre_1_1Lighta0">00034</a>     Light::Light()
00035     {
00036         <font class="comment">// Default to point light, white diffuse light, linear attenuation, fair range</font>
00037         <a class="code" href="classOgre_1_1Light.html#Ogre_1_1Lighto1">mLightType</a> = <a class="code" href="classOgre_1_1Light.html#Ogre_1_1Lights3Ogre_1_1Lights0">LT_POINT</a>;
00038         <a class="code" href="classOgre_1_1Light.html#Ogre_1_1Lighto3">mDiffuse</a> = ColourValue::White;
00039         <a class="code" href="classOgre_1_1Light.html#Ogre_1_1Lighto4">mSpecular</a> = ColourValue::Black;
00040         <a class="code" href="classOgre_1_1Light.html#Ogre_1_1Lighto9">mRange</a> = 1000;
00041         <a class="code" href="classOgre_1_1Light.html#Ogre_1_1Lighto10">mAttenuationConst</a> = 1.0f;
00042         <a class="code" href="classOgre_1_1Light.html#Ogre_1_1Lighto11">mAttenuationLinear</a> = 0.0f;
00043         <a class="code" href="classOgre_1_1Light.html#Ogre_1_1Lighto12">mAttenuationQuad</a> = 0.0f;
00044 
00045         <font class="comment">// Center in world, direction irrelevant but set anyway</font>
00046         <a class="code" href="classOgre_1_1Light.html#Ogre_1_1Lighto2">mPosition</a> = Vector3::ZERO;
00047         <a class="code" href="classOgre_1_1Light.html#Ogre_1_1Lighto5">mDirection</a> = Vector3::UNIT_Z;
00048 
00049         <font class="comment">// Deafult modified</font>
00050         <a class="code" href="classOgre_1_1Light.html#Ogre_1_1Lighto13">mModified</a> = <font class="keyword">true</font>;
00051     }
00052     <font class="comment">//-----------------------------------------------------------------------</font>
<a name="l00053"></a><a class="code" href="classOgre_1_1Light.html#Ogre_1_1Lighta1">00053</a>     Light::Light(<a class="code" href="classOgre_1_1String.html">String</a> name)
00054     {
00055         <a class="code" href="classOgre_1_1Light.html#Ogre_1_1Lighto0">mName</a> = name;
00056 
00057         <font class="comment">// Default to point light, white diffuse light, linear attenuation, fair range</font>
00058         <a class="code" href="classOgre_1_1Light.html#Ogre_1_1Lighto1">mLightType</a> = <a class="code" href="classOgre_1_1Light.html#Ogre_1_1Lights3Ogre_1_1Lights0">LT_POINT</a>;
00059         <a class="code" href="classOgre_1_1Light.html#Ogre_1_1Lighto3">mDiffuse</a> = ColourValue::White;
00060         <a class="code" href="classOgre_1_1Light.html#Ogre_1_1Lighto4">mSpecular</a> = ColourValue::Black;
00061         <a class="code" href="classOgre_1_1Light.html#Ogre_1_1Lighto9">mRange</a> = 1000;
00062         <a class="code" href="classOgre_1_1Light.html#Ogre_1_1Lighto10">mAttenuationConst</a> = 1.0f;
00063         <a class="code" href="classOgre_1_1Light.html#Ogre_1_1Lighto11">mAttenuationLinear</a> = 0.0f;
00064         <a class="code" href="classOgre_1_1Light.html#Ogre_1_1Lighto12">mAttenuationQuad</a> = 0.0f;
00065 
00066         <font class="comment">// Center in world, direction irrelevant but set anyway</font>
00067         <a class="code" href="classOgre_1_1Light.html#Ogre_1_1Lighto2">mPosition</a> = Vector3::ZERO;
00068         <a class="code" href="classOgre_1_1Light.html#Ogre_1_1Lighto5">mDirection</a> = Vector3::UNIT_Z;
00069 
00070         <font class="comment">// Deafult modified</font>
00071         <a class="code" href="classOgre_1_1Light.html#Ogre_1_1Lighto13">mModified</a> = <font class="keyword">true</font>;
00072     }
00073     <font class="comment">//-----------------------------------------------------------------------</font>
<a name="l00074"></a><a class="code" href="classOgre_1_1Light.html#Ogre_1_1Lighta2">00074</a>     Light::~Light()
00075     {
00076     }
00077     <font class="comment">//-----------------------------------------------------------------------</font>
<a name="l00078"></a><a class="code" href="classOgre_1_1Light.html#Ogre_1_1Lighta3">00078</a>     <a class="code" href="classOgre_1_1String.html">String</a> Light::getName(<font class="keywordtype">void</font>)
00079     {
00080         <font class="keywordflow">return</font> <a class="code" href="classOgre_1_1Light.html#Ogre_1_1Lighto0">mName</a>;
00081 
00082     }
00083     <font class="comment">//-----------------------------------------------------------------------</font>
<a name="l00084"></a><a class="code" href="classOgre_1_1Light.html#Ogre_1_1Lighta4">00084</a>     <font class="keywordtype">void</font> Light::setType(LightTypes type)
00085     {
00086         <a class="code" href="classOgre_1_1Light.html#Ogre_1_1Lighto1">mLightType</a> = type;
00087         <a class="code" href="classOgre_1_1Light.html#Ogre_1_1Lighto13">mModified</a> = <font class="keyword">true</font>;
00088     }
00089     <font class="comment">//-----------------------------------------------------------------------</font>
<a name="l00090"></a><a class="code" href="classOgre_1_1Light.html#Ogre_1_1Lighta5">00090</a>     Light::LightTypes Light::getType(<font class="keywordtype">void</font>)
00091     {
00092         <font class="keywordflow">return</font> <a class="code" href="classOgre_1_1Light.html#Ogre_1_1Lighto1">mLightType</a>;
00093     }
00094     <font class="comment">//-----------------------------------------------------------------------</font>
<a name="l00095"></a><a class="code" href="classOgre_1_1Light.html#Ogre_1_1Lighta17">00095</a>     <font class="keywordtype">void</font> Light::setPosition(<a class="code" href="namespaceOgre.html#a281">Real</a> x, <a class="code" href="namespaceOgre.html#a281">Real</a> y, <a class="code" href="namespaceOgre.html#a281">Real</a> z)
00096     {
00097         <a class="code" href="classOgre_1_1Light.html#Ogre_1_1Lighto2">mPosition</a>.<a class="code" href="classOgre_1_1Vector3.html#Ogre_1_1Vector3m0">x</a> = x;
00098         <a class="code" href="classOgre_1_1Light.html#Ogre_1_1Lighto2">mPosition</a>.<a class="code" href="classOgre_1_1Vector3.html#Ogre_1_1Vector3m1">y</a> = y;
00099         <a class="code" href="classOgre_1_1Light.html#Ogre_1_1Lighto2">mPosition</a>.<a class="code" href="classOgre_1_1Vector3.html#Ogre_1_1Vector3m2">z</a> = z;
00100         <a class="code" href="classOgre_1_1Light.html#Ogre_1_1Lighto13">mModified</a> = <font class="keyword">true</font>;
00101 
00102     }
00103     <font class="comment">//-----------------------------------------------------------------------</font>
<a name="l00104"></a><a class="code" href="classOgre_1_1Light.html#Ogre_1_1Lighta18">00104</a>     <font class="keywordtype">void</font> Light::setPosition(<font class="keyword">const</font> <a class="code" href="classOgre_1_1Vector3.html">Vector3</a>&amp; vec)
00105     {
00106         <a class="code" href="classOgre_1_1Light.html#Ogre_1_1Lighto2">mPosition</a> = vec;
00107         <a class="code" href="classOgre_1_1Light.html#Ogre_1_1Lighto13">mModified</a> = <font class="keyword">true</font>;
00108     }
00109     <font class="comment">//-----------------------------------------------------------------------</font>
<a name="l00110"></a><a class="code" href="classOgre_1_1Light.html#Ogre_1_1Lighta19">00110</a>     <a class="code" href="classOgre_1_1Vector3.html">Vector3</a> Light::getPosition(<font class="keywordtype">void</font>)
00111     {
00112         <font class="keywordflow">return</font> <a class="code" href="classOgre_1_1Light.html#Ogre_1_1Lighto2">mPosition</a>;
00113     }
00114     <font class="comment">//-----------------------------------------------------------------------</font>
<a name="l00115"></a><a class="code" href="classOgre_1_1Light.html#Ogre_1_1Lighta20">00115</a>     <font class="keywordtype">void</font> Light::setDirection(<a class="code" href="namespaceOgre.html#a281">Real</a> x, <a class="code" href="namespaceOgre.html#a281">Real</a> y, <a class="code" href="namespaceOgre.html#a281">Real</a> z)
00116     {
00117         <a class="code" href="classOgre_1_1Light.html#Ogre_1_1Lighto5">mDirection</a>.<a class="code" href="classOgre_1_1Vector3.html#Ogre_1_1Vector3m0">x</a> = x;
00118         <a class="code" href="classOgre_1_1Light.html#Ogre_1_1Lighto5">mDirection</a>.<a class="code" href="classOgre_1_1Vector3.html#Ogre_1_1Vector3m1">y</a> = y;
00119         <a class="code" href="classOgre_1_1Light.html#Ogre_1_1Lighto5">mDirection</a>.<a class="code" href="classOgre_1_1Vector3.html#Ogre_1_1Vector3m2">z</a> = z;
00120         <a class="code" href="classOgre_1_1Light.html#Ogre_1_1Lighto13">mModified</a> = <font class="keyword">true</font>;
00121     }
00122     <font class="comment">//-----------------------------------------------------------------------</font>
<a name="l00123"></a><a class="code" href="classOgre_1_1Light.html#Ogre_1_1Lighta21">00123</a>     <font class="keywordtype">void</font> Light::setDirection(<font class="keyword">const</font> <a class="code" href="classOgre_1_1Vector3.html">Vector3</a>&amp; vec)
00124     {
00125         <a class="code" href="classOgre_1_1Light.html#Ogre_1_1Lighto5">mDirection</a> = vec;
00126         <a class="code" href="classOgre_1_1Light.html#Ogre_1_1Lighto13">mModified</a> = <font class="keyword">true</font>;
00127     }
00128     <font class="comment">//-----------------------------------------------------------------------</font>
<a name="l00129"></a><a class="code" href="classOgre_1_1Light.html#Ogre_1_1Lighta22">00129</a>     <a class="code" href="classOgre_1_1Vector3.html">Vector3</a> Light::getDirection(<font class="keywordtype">void</font>)
00130     {
00131         <font class="keywordflow">return</font> <a class="code" href="classOgre_1_1Light.html#Ogre_1_1Lighto5">mDirection</a>;
00132     }
00133     <font class="comment">//-----------------------------------------------------------------------</font>
<a name="l00134"></a><a class="code" href="classOgre_1_1Light.html#Ogre_1_1Lighta23">00134</a>     <font class="keywordtype">void</font> Light::setSpotlightRange(<a class="code" href="namespaceOgre.html#a281">Real</a> innerAngle, <a class="code" href="namespaceOgre.html#a281">Real</a> outerAngle, <a class="code" href="namespaceOgre.html#a281">Real</a> falloff)
00135     {
00136 
00137         <font class="keywordflow">if</font> (<a class="code" href="classOgre_1_1Light.html#Ogre_1_1Lighto1">mLightType</a> != <a class="code" href="classOgre_1_1Light.html#Ogre_1_1Lights3Ogre_1_1Lights2">LT_SPOTLIGHT</a>)
00138             <a class="code" href="OgreException_8h.html#a0">Except</a>(9999,
00139                 <font class="stringliteral">"setSpotlightRange is only valid for spotlights."</font>,
00140                 <font class="stringliteral">"Light::setSpotlightRange"</font>);
00141 
00142         <a class="code" href="classOgre_1_1Light.html#Ogre_1_1Lighto7">mSpotInner</a> =innerAngle;
00143         <a class="code" href="classOgre_1_1Light.html#Ogre_1_1Lighto6">mSpotOuter</a> = outerAngle;
00144         <a class="code" href="classOgre_1_1Light.html#Ogre_1_1Lighto8">mSpotFalloff</a> = falloff;
00145         <a class="code" href="classOgre_1_1Light.html#Ogre_1_1Lighto13">mModified</a> = <font class="keyword">true</font>;
00146     }
00147     <font class="comment">//-----------------------------------------------------------------------</font>
<a name="l00148"></a><a class="code" href="classOgre_1_1Light.html#Ogre_1_1Lighta24">00148</a>     <a class="code" href="namespaceOgre.html#a281">Real</a> Light::getSpotlightInnerAngle(<font class="keywordtype">void</font>)
00149     {
00150         <font class="keywordflow">return</font> <a class="code" href="classOgre_1_1Light.html#Ogre_1_1Lighto7">mSpotInner</a>;
00151     }
00152     <font class="comment">//-----------------------------------------------------------------------</font>
<a name="l00153"></a><a class="code" href="classOgre_1_1Light.html#Ogre_1_1Lighta25">00153</a>     <a class="code" href="namespaceOgre.html#a281">Real</a> Light::getSpotlightOuterAngle(<font class="keywordtype">void</font>)
00154     {
00155         <font class="keywordflow">return</font> <a class="code" href="classOgre_1_1Light.html#Ogre_1_1Lighto6">mSpotOuter</a>;
00156     }
00157     <font class="comment">//-----------------------------------------------------------------------</font>
<a name="l00158"></a><a class="code" href="classOgre_1_1Light.html#Ogre_1_1Lighta26">00158</a>     <a class="code" href="namespaceOgre.html#a281">Real</a> Light::getSpotlightFalloff(<font class="keywordtype">void</font>)
00159     {
00160         <font class="keywordflow">return</font> <a class="code" href="classOgre_1_1Light.html#Ogre_1_1Lighto8">mSpotFalloff</a>;
00161     }
00162     <font class="comment">//-----------------------------------------------------------------------</font>
<a name="l00163"></a><a class="code" href="classOgre_1_1Light.html#Ogre_1_1Lighta6">00163</a>     <font class="keywordtype">void</font> Light::setDiffuseColour(<a class="code" href="namespaceOgre.html#a281">Real</a> red, <a class="code" href="namespaceOgre.html#a281">Real</a> green, <a class="code" href="namespaceOgre.html#a281">Real</a> blue)
00164     {
00165         <a class="code" href="classOgre_1_1Light.html#Ogre_1_1Lighto3">mDiffuse</a>.<a class="code" href="classOgre_1_1ColourValue.html#Ogre_1_1ColourValuem0">r</a> = red;
00166         <a class="code" href="classOgre_1_1Light.html#Ogre_1_1Lighto3">mDiffuse</a>.<a class="code" href="classOgre_1_1ColourValue.html#Ogre_1_1ColourValuem2">b</a> = blue;
00167         <a class="code" href="classOgre_1_1Light.html#Ogre_1_1Lighto3">mDiffuse</a>.<a class="code" href="classOgre_1_1ColourValue.html#Ogre_1_1ColourValuem1">g</a> = green;
00168         <a class="code" href="classOgre_1_1Light.html#Ogre_1_1Lighto13">mModified</a> = <font class="keyword">true</font>;
00169     }
00170     <font class="comment">//-----------------------------------------------------------------------</font>
<a name="l00171"></a><a class="code" href="classOgre_1_1Light.html#Ogre_1_1Lighta7">00171</a>     <font class="keywordtype">void</font> Light::setDiffuseColour(<font class="keyword">const</font> <a class="code" href="classOgre_1_1ColourValue.html">ColourValue</a>&amp; colour)
00172     {
00173         <a class="code" href="classOgre_1_1Light.html#Ogre_1_1Lighto3">mDiffuse</a> = colour;
00174         <a class="code" href="classOgre_1_1Light.html#Ogre_1_1Lighto13">mModified</a> = <font class="keyword">true</font>;
00175     }
00176     <font class="comment">//-----------------------------------------------------------------------</font>
<a name="l00177"></a><a class="code" href="classOgre_1_1Light.html#Ogre_1_1Lighta8">00177</a>     <a class="code" href="classOgre_1_1ColourValue.html">ColourValue</a> Light::getDiffuseColour(<font class="keywordtype">void</font>)
00178     {
00179         <font class="keywordflow">return</font> <a class="code" href="classOgre_1_1Light.html#Ogre_1_1Lighto3">mDiffuse</a>;
00180     }
00181     <font class="comment">//-----------------------------------------------------------------------</font>
<a name="l00182"></a><a class="code" href="classOgre_1_1Light.html#Ogre_1_1Lighta9">00182</a>     <font class="keywordtype">void</font> Light::setSpecularColour(<a class="code" href="namespaceOgre.html#a281">Real</a> red, <a class="code" href="namespaceOgre.html#a281">Real</a> green, <a class="code" href="namespaceOgre.html#a281">Real</a> blue)
00183     {
00184         <a class="code" href="classOgre_1_1Light.html#Ogre_1_1Lighto4">mSpecular</a>.<a class="code" href="classOgre_1_1ColourValue.html#Ogre_1_1ColourValuem0">r</a> = red;
00185         <a class="code" href="classOgre_1_1Light.html#Ogre_1_1Lighto4">mSpecular</a>.<a class="code" href="classOgre_1_1ColourValue.html#Ogre_1_1ColourValuem2">b</a> = blue;
00186         <a class="code" href="classOgre_1_1Light.html#Ogre_1_1Lighto4">mSpecular</a>.<a class="code" href="classOgre_1_1ColourValue.html#Ogre_1_1ColourValuem1">g</a> = green;
00187         <a class="code" href="classOgre_1_1Light.html#Ogre_1_1Lighto13">mModified</a> = <font class="keyword">true</font>;
00188     }
00189     <font class="comment">//-----------------------------------------------------------------------</font>
<a name="l00190"></a><a class="code" href="classOgre_1_1Light.html#Ogre_1_1Lighta10">00190</a>     <font class="keywordtype">void</font> Light::setSpecularColour(<font class="keyword">const</font> <a class="code" href="classOgre_1_1ColourValue.html">ColourValue</a>&amp; colour)
00191     {
00192         <a class="code" href="classOgre_1_1Light.html#Ogre_1_1Lighto4">mSpecular</a> = colour;
00193         <a class="code" href="classOgre_1_1Light.html#Ogre_1_1Lighto13">mModified</a> = <font class="keyword">true</font>;
00194     }
00195     <font class="comment">//-----------------------------------------------------------------------</font>
<a name="l00196"></a><a class="code" href="classOgre_1_1Light.html#Ogre_1_1Lighta11">00196</a>     <a class="code" href="classOgre_1_1ColourValue.html">ColourValue</a> Light::getSpecularColour(<font class="keywordtype">void</font>)
00197     {
00198         <font class="keywordflow">return</font> <a class="code" href="classOgre_1_1Light.html#Ogre_1_1Lighto4">mSpecular</a>;
00199     }
00200     <font class="comment">//-----------------------------------------------------------------------</font>
<a name="l00201"></a><a class="code" href="classOgre_1_1Light.html#Ogre_1_1Lighta12">00201</a>     <font class="keywordtype">void</font> Light::setAttenuation(<a class="code" href="namespaceOgre.html#a281">Real</a> range, <a class="code" href="namespaceOgre.html#a281">Real</a> constant,
00202                         <a class="code" href="namespaceOgre.html#a281">Real</a> linear, <a class="code" href="namespaceOgre.html#a281">Real</a> quadratic)
00203     {
00204         <a class="code" href="classOgre_1_1Light.html#Ogre_1_1Lighto9">mRange</a> = range;
00205         <a class="code" href="classOgre_1_1Light.html#Ogre_1_1Lighto10">mAttenuationConst</a> = constant;
00206         <a class="code" href="classOgre_1_1Light.html#Ogre_1_1Lighto11">mAttenuationLinear</a> = linear;
00207         <a class="code" href="classOgre_1_1Light.html#Ogre_1_1Lighto12">mAttenuationQuad</a> = quadratic;
00208         <a class="code" href="classOgre_1_1Light.html#Ogre_1_1Lighto13">mModified</a> = <font class="keyword">true</font>;
00209     }
00210     <font class="comment">//-----------------------------------------------------------------------</font>
<a name="l00211"></a><a class="code" href="classOgre_1_1Light.html#Ogre_1_1Lighta13">00211</a>     <a class="code" href="namespaceOgre.html#a281">Real</a> Light::getAttenuationRange(<font class="keywordtype">void</font>)
00212     {
00213         <font class="keywordflow">return</font> <a class="code" href="classOgre_1_1Light.html#Ogre_1_1Lighto9">mRange</a>;
00214     }
00215     <font class="comment">//-----------------------------------------------------------------------</font>
<a name="l00216"></a><a class="code" href="classOgre_1_1Light.html#Ogre_1_1Lighta14">00216</a>     <a class="code" href="namespaceOgre.html#a281">Real</a> Light::getAttenuationConstant(<font class="keywordtype">void</font>)
00217     {
00218         <font class="keywordflow">return</font> <a class="code" href="classOgre_1_1Light.html#Ogre_1_1Lighto10">mAttenuationConst</a>;
00219     }
00220     <font class="comment">//-----------------------------------------------------------------------</font>
<a name="l00221"></a><a class="code" href="classOgre_1_1Light.html#Ogre_1_1Lighta15">00221</a>     <a class="code" href="namespaceOgre.html#a281">Real</a> Light::getAttenuationLinear(<font class="keywordtype">void</font>)
00222     {
00223         <font class="keywordflow">return</font> <a class="code" href="classOgre_1_1Light.html#Ogre_1_1Lighto11">mAttenuationLinear</a>;
00224     }
00225     <font class="comment">//-----------------------------------------------------------------------</font>
<a name="l00226"></a><a class="code" href="classOgre_1_1Light.html#Ogre_1_1Lighta16">00226</a>     <a class="code" href="namespaceOgre.html#a281">Real</a> Light::getAttenuationQuadric(<font class="keywordtype">void</font>)
00227     {
00228         <font class="keywordflow">return</font> <a class="code" href="classOgre_1_1Light.html#Ogre_1_1Lighto12">mAttenuationQuad</a>;
00229     }
00230     <font class="comment">//-----------------------------------------------------------------------</font>
<a name="l00231"></a><a class="code" href="classOgre_1_1Light.html#Ogre_1_1Lighta27">00231</a>     <font class="keywordtype">bool</font> Light::isModified(<font class="keywordtype">void</font>)
00232     {
00233         <font class="keywordflow">if</font> (mParentNode)
00234         {
00235             <font class="keywordflow">if</font> (!<a class="code" href="classOgre_1_1Light.html#Ogre_1_1Lighto13">mModified</a> &amp;&amp; <a class="code" href="classOgre_1_1MovableObject.html#Ogre_1_1SimpleRenderablen14">mParentNode</a>-&gt;<a class="code" href="classOgre_1_1Node.html#Ogre_1_1SceneNodea47">_getDerivedOrientation</a>() == <a class="code" href="classOgre_1_1Light.html#Ogre_1_1Lighto16">mLastParentOrientation</a> &amp;&amp;
00236                 <a class="code" href="classOgre_1_1MovableObject.html#Ogre_1_1SimpleRenderablen14">mParentNode</a>-&gt;<a class="code" href="classOgre_1_1Node.html#Ogre_1_1SceneNodea48">_getDerivedPosition</a>() == <a class="code" href="classOgre_1_1Light.html#Ogre_1_1Lighto17">mLastParentPosition</a>)
00237             {
00238                 <font class="keywordflow">return</font> <font class="keyword">false</font>;
00239             }
00240             <font class="keywordflow">else</font>
00241             {
00242                 <font class="comment">// Ok, we're out of date with SceneNode we're attached to</font>
00243                 <a class="code" href="classOgre_1_1Light.html#Ogre_1_1Lighto16">mLastParentOrientation</a> = <a class="code" href="classOgre_1_1MovableObject.html#Ogre_1_1SimpleRenderablen14">mParentNode</a>-&gt;<a class="code" href="classOgre_1_1Node.html#Ogre_1_1SceneNodea47">_getDerivedOrientation</a>();
00244                 <a class="code" href="classOgre_1_1Light.html#Ogre_1_1Lighto17">mLastParentPosition</a> = <a class="code" href="classOgre_1_1MovableObject.html#Ogre_1_1SimpleRenderablen14">mParentNode</a>-&gt;<a class="code" href="classOgre_1_1Node.html#Ogre_1_1SceneNodea48">_getDerivedPosition</a>();
00245                 <a class="code" href="classOgre_1_1Light.html#Ogre_1_1Lighto15">mDerivedDirection</a> = <a class="code" href="classOgre_1_1Light.html#Ogre_1_1Lighto16">mLastParentOrientation</a> * <a class="code" href="classOgre_1_1Light.html#Ogre_1_1Lighto5">mDirection</a>;
00246                 <a class="code" href="classOgre_1_1Light.html#Ogre_1_1Lighto14">mDerivedPosition</a> = (<a class="code" href="classOgre_1_1Light.html#Ogre_1_1Lighto16">mLastParentOrientation</a> * <a class="code" href="classOgre_1_1Light.html#Ogre_1_1Lighto2">mPosition</a>) + <a class="code" href="classOgre_1_1Light.html#Ogre_1_1Lighto17">mLastParentPosition</a>;
00247                 <font class="keywordflow">return</font> <font class="keyword">true</font>;
00248             }
00249         }
00250         <font class="keywordflow">else</font>
00251         {
00252             <a class="code" href="classOgre_1_1Light.html#Ogre_1_1Lighto14">mDerivedPosition</a> = <a class="code" href="classOgre_1_1Light.html#Ogre_1_1Lighto2">mPosition</a>;
00253             <a class="code" href="classOgre_1_1Light.html#Ogre_1_1Lighto15">mDerivedDirection</a> = <a class="code" href="classOgre_1_1Light.html#Ogre_1_1Lighto5">mDirection</a>;
00254             <font class="keywordflow">return</font> <a class="code" href="classOgre_1_1Light.html#Ogre_1_1Lighto13">mModified</a>;
00255         }
00256 
00257     }
00258     <font class="comment">//-----------------------------------------------------------------------</font>
<a name="l00259"></a><a class="code" href="classOgre_1_1Light.html#Ogre_1_1Lighta28">00259</a>     <font class="keywordtype">void</font> Light::_clearModified(<font class="keywordtype">void</font>)
00260     {
00261 
00262         <a class="code" href="classOgre_1_1Light.html#Ogre_1_1Lighto13">mModified</a> = <font class="keyword">false</font>;
00263     }
00264     <font class="comment">//-----------------------------------------------------------------------</font>
<a name="l00265"></a><a class="code" href="classOgre_1_1Light.html#Ogre_1_1Lighta29">00265</a>     <font class="keywordtype">void</font> Light::_notifyCurrentCamera(<a class="code" href="classOgre_1_1Camera.html">Camera</a>* cam)
00266     {
00267         <font class="comment">// Do nothing</font>
00268     }
00269     <font class="comment">//-----------------------------------------------------------------------</font>
<a name="l00270"></a><a class="code" href="classOgre_1_1Light.html#Ogre_1_1Lighta30">00270</a>     <font class="keyword">const</font> <a class="code" href="classOgre_1_1AxisAlignedBox.html">AxisAlignedBox</a>&amp; Light::getBoundingBox(<font class="keywordtype">void</font>)<font class="keyword"> const</font>
00271 <font class="keyword">    </font>{
00272         <font class="comment">// Null, lights are not visible</font>
00273         <font class="keyword">static</font> <a class="code" href="classOgre_1_1AxisAlignedBox.html">AxisAlignedBox</a> box;
00274         <font class="keywordflow">return</font> box;
00275     }
00276     <font class="comment">//-----------------------------------------------------------------------</font>
<a name="l00277"></a><a class="code" href="classOgre_1_1Light.html#Ogre_1_1Lighta31">00277</a>     <font class="keywordtype">void</font> Light::_updateRenderQueue(<a class="code" href="classOgre_1_1RenderQueue.html">RenderQueue</a>* queue)
00278     {
00279         <font class="comment">// Do nothing</font>
00280     }
00281     <font class="comment">//-----------------------------------------------------------------------</font>
<a name="l00282"></a><a class="code" href="classOgre_1_1Light.html#Ogre_1_1Lighta32">00282</a>     <a class="code" href="classOgre_1_1String.html">String</a> Light::getMovableType(<font class="keywordtype">void</font>)
00283     {
00284         <font class="keywordflow">return</font> <a class="code" href="classOgre_1_1Light.html#Ogre_1_1Lightr0">msMovableType</a>;
00285     }
00286     <font class="comment">//-----------------------------------------------------------------------</font>
<a name="l00287"></a><a class="code" href="classOgre_1_1Light.html#Ogre_1_1Lighta33">00287</a>     <font class="keyword">const</font> <a class="code" href="classOgre_1_1Vector3.html">Vector3</a>&amp; Light::getDerivedPosition(<font class="keywordtype">void</font>)
00288     {
00289         <a class="code" href="classOgre_1_1Light.html#Ogre_1_1Lighta27">isModified</a>();
00290         <font class="keywordflow">return</font> <a class="code" href="classOgre_1_1Light.html#Ogre_1_1Lighto14">mDerivedPosition</a>;
00291     }
00292     <font class="comment">//-----------------------------------------------------------------------</font>
<a name="l00293"></a><a class="code" href="classOgre_1_1Light.html#Ogre_1_1Lighta34">00293</a>     <font class="keyword">const</font> <a class="code" href="classOgre_1_1Vector3.html">Vector3</a>&amp; Light::getDerivedDirection(<font class="keywordtype">void</font>)
00294     {
00295         <a class="code" href="classOgre_1_1Light.html#Ogre_1_1Lighta27">isModified</a>();
00296         <font class="keywordflow">return</font> <a class="code" href="classOgre_1_1Light.html#Ogre_1_1Lighto15">mDerivedDirection</a>;
00297     }
00298 
00299 
00300 
00301 
00302 
00303 
00304 } <font class="comment">// Namespace</font>
</pre></div><p>
Copyright &copy; 2002 by The OGRE Team<br />
<script type="text/javascript">
<!--//hide script from old browsers
document.write( "Last modified "+ document.lastModified );
//end hiding contents -->
</script>
</p>
</body>
</html>
